(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{268:function(e){e.exports=JSON.parse('{"color-primary-100":"#FEEFCF","color-primary-200":"#FEDAA0","color-primary-300":"#FEC071","color-primary-400":"#FDA74E","color-primary-500":"#FD7E14","color-primary-600":"#D95F0E","color-primary-700":"#B6450A","color-primary-800":"#922F06","color-primary-900":"#791F03","color-success-100":"#DFFDDC","color-success-200":"#BBFCBC","color-success-300":"#97F8A3","color-success-400":"#7CF296","color-success-500":"#52EA82","color-success-600":"#3BC976","color-success-700":"#29A86A","color-success-800":"#1A875D","color-success-900":"#0F7054","color-info-100":"#CCF5FE","color-info-200":"#99E5FE","color-info-300":"#66CFFD","color-info-400":"#40B8FB","color-info-500":"#0292F9","color-info-600":"#0171D6","color-info-700":"#0154B3","color-info-800":"#003B90","color-info-900":"#002A77","color-warning-100":"#FFF7CD","color-warning-200":"#FFED9B","color-warning-300":"#FFE16A","color-warning-400":"#FFD545","color-warning-500":"#ffc107","color-warning-600":"#DBA005","color-warning-700":"#B78103","color-warning-800":"#936402","color-warning-900":"#7A4F01","color-danger-100":"#FFE7E0","color-danger-200":"#FFCAC1","color-danger-300":"#FFA8A3","color-danger-400":"#FF8C90","color-danger-500":"#FF667A","color-danger-600":"#DB4A6A","color-danger-700":"#B7335D","color-danger-800":"#93204F","color-danger-900":"#7A1347"}')},269:function(e){e.exports=JSON.parse('{"strict":{"text-font-family":"Roboto"},"components":{"BottomNavigationTab":{"meta":{"scope":"","parameters":{},"appearances":{},"variantGroups":{},"states":{}},"appearances":{"default":{"mapping":{"iconTintColor":"color-primary-800","textColor":"color-primary-800","state":{"hover":{"textColor":"color-primary-200","iconTintColor":"color-primary-200"},"selected":{"textColor":"color-basic-100","iconTintColor":"color-basic-100"}}}}}},"BottomNavigation":{"meta":{"scope":"","parameters":{},"appearances":{},"variantGroups":{},"states":{}},"appearances":{"default":{"mapping":{"backgroundColor":"color-primary-default"}}}}}}')},276:function(e,t,n){e.exports=n(503)},385:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},413:function(e,t){},503:function(e,t,n){"use strict";n.r(t);var r=n(516),o=n(5),a=n.n(o),c=n(7),s=n.n(c),i=n(3),u=n.n(i),l=n(0),p=n.n(l),f=n(133),d=n(4),j=n(11),b=n.n(j),h=n(6),g=n(510),O=n(1),x=["height","tintColor"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y={name:"material",icons:new Proxy({},{get:function(e,t){return v(t)}})};var v=function(e){return{toReactElement:function(t){return function(e){var t=e.name,n=e.style,r=h.a.flatten(n),o=r.height,a=r.tintColor,c=b()(r,x);return Object(O.jsx)(g.a,{name:t,size:o,color:a,style:c})}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e},t))}}};var w=p.a.createContext({theme:"light",setTheme:function(){},switchTheme:function(){},ThemeToggle:function(){return Object(O.jsx)(d.Button,{})}}),P=function(){var e=p.a.useContext(w);if(!e)throw new Error("useThemeContext must be used within an ThemeContext.Provider");return e},S=n(87),T=function(e,t){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(S.a.setItem("@"+e,t));case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)},C=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.stringify(t),r.next=4,u.a.awrap(S.a.setItem("@"+e,n));case 4:return r.abrupt("return",r.sent);case 7:throw r.prev=7,r.t0=r.catch(0),r.t0;case 10:case"end":return r.stop()}}),null,null,[[0,7]],Promise)},D=function(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.awrap(S.a.getItem("@"+e));case 3:return n=r.sent,r.abrupt("return",null!==n?n:t);case 7:throw r.prev=7,r.t0=r.catch(0),r.t0;case 10:case"end":return r.stop()}}),null,null,[[0,7]],Promise)},k=function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(S.a.getItem("@"+e));case 3:return t=n.sent,n.abrupt("return",null!==t?JSON.parse(t):null);case 7:throw n.prev=7,n.t0=n.catch(0),n.t0;case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)},E=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(S.a.removeItem("@"+e));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)},I=n(511),L=n(518),B=n(169);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=n(514),z=n(62),N=n.n(z),H="http://portion-mate.herokuapp.com/api",V="9wNj6u3MMA9ZS12hv3v9AQAJHsXcAljTw0D5eZPN",M="blppvQ6gQI1VygroEltrLMUyA86fwvLiMrUdsFj8FYDXELC5pArXXw2wWvIFmEGMgVywuxQaGaOsCppcBLXvbyeJzCe8guVRzvIcRZJQcUbaYf07GRj0vYdSgb3wjOoB",_=N.a.create({baseURL:H});function J(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(_.get(e));case 2:return t=n.sent,n.abrupt("return","results"in t.data?t.data.results:t.data);case 4:case"end":return n.stop()}}),null,null,null,Promise)}function W(e,t){var n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(_.post(e,t));case 2:return n=r.sent,r.abrupt("return",n.data);case 4:case"end":return r.stop()}}),null,null,null,Promise)}function G(e,t,n){var r,o,a;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.id,o=""+e+r+"/",c.next=4,u.a.awrap(_.request({method:t,url:o,data:n}));case 4:return a=c.sent,c.abrupt("return",a.data);case 6:case"end":return c.stop()}}),null,null,null,Promise)}function U(e){var t,n,r,o=arguments;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:void 0,a.prev=2,"PATCH"!==t&&"DELETE"!==t){a.next=9;break}return a.next=6,u.a.awrap(G(e,t,n));case 6:return a.abrupt("return",a.sent);case 9:if("POST"!==t){a.next=15;break}return a.next=12,u.a.awrap(W(e,n));case 12:return a.abrupt("return",a.sent);case 15:return a.next=17,u.a.awrap(J(e));case 17:return a.abrupt("return",a.sent);case 18:a.next=23;break;case 20:throw a.prev=20,a.t0=a.catch(2),N.a.isAxiosError(a.t0)?null==(r=a.t0.response)?void 0:r.data:a.t0;case 23:case"end":return a.stop()}}),null,null,[[2,20]],Promise)}var q=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return _.defaults.headers.common.Authorization="Bearer "+e.access_token,t.next=3,u.a.awrap(C("auth_token",e));case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},Y=function(e){return _.interceptors.response.use((function(e){return e}),(function(t){if(N.a.isAxiosError(t)&&t.config.headers&&401===t.request.status){if(!t.config.headers.retry)return t.config.headers.retry="true",X().then((function(){return _(t.config)}));if(e)return e()}throw t}))},Q=function(e,t,n){var r,o;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.awrap(_.post("/auth/o/token/",{username:e,password:t,grant_type:"password",client_id:V,client_secret:M}));case 3:return(r=a.sent).data.interceptor=Y(n),a.next=7,u.a.awrap(q(r.data));case 7:return a.abrupt("return",a.sent);case 10:throw a.prev=10,a.t0=a.catch(0),N.a.isAxiosError(a.t0)?null==(o=a.t0.response)?void 0:o.data:a.t0;case 13:case"end":return a.stop()}}),null,null,[[0,10]],Promise)},X=function(e){var t,n,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,e){o.next=5;break}return o.next=4,u.a.awrap(k("auth_token"));case 4:e=o.sent;case 5:return o.next=7,u.a.awrap(_.post("/auth/o/token/",{refresh_token:e.refresh_token,grant_type:"refresh_token",client_id:V,client_secret:M}));case 7:return(t=o.sent).data.interceptor=e.interceptor,o.next=11,u.a.awrap(q(t.data));case 11:return o.abrupt("return",o.sent);case 14:throw o.prev=14,o.t0=o.catch(0),N.a.isAxiosError(o.t0)&&400===(null==(n=o.t0.response)?void 0:n.status)&&Z(e),N.a.isAxiosError(o.t0)?null==(r=o.t0.response)?void 0:r.data:o.t0;case 18:case"end":return o.stop()}}),null,null,[[0,14]],Promise)},Z=function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e){n.next=5;break}return n.next=4,u.a.awrap(k("auth_token"));case 4:e=n.sent;case 5:return n.next=7,u.a.awrap(_.post("/auth/o/revoke_token/",{token:e.access_token,client_id:V,client_secret:M}));case 7:return _.defaults.headers.common.Authorization="",e.interceptor&&_.interceptors.response.eject(e.interceptor),n.next=11,u.a.awrap(E("auth_token"));case 11:n.next=16;break;case 13:throw n.prev=13,n.t0=n.catch(0),N.a.isAxiosError(n.t0)?null==(t=n.t0.response)?void 0:t.data:n.t0;case 16:case"end":return n.stop()}}),null,null,[[0,13]],Promise)},K=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("/users/"));case 1:case"end":return e.stop()}}),null,null,null,Promise)},$=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/users/","POST",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)},ee=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/users/","PATCH",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)},te=p.a.createContext({loading:!1,helpers:{}}),ne=function(e){var t=e.children,n=p.a.useState(),r=s()(n,2),o=r[0],a=r[1],c=p.a.useState([]),i=s()(c,2),l=i[0],f=i[1],d=p.a.useState([]),j=s()(d,2),b=j[0],h=j[1],g=p.a.useState(),x=s()(g,2),m=x[0],y=x[1],v=p.a.useState(),w=s()(v,2),P=w[0],S=w[1],T=p.a.useState(!0),C=s()(T,2),D=C[0],E=C[1];p.a.useEffect((function(){(function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(k("auth_token"));case 3:if(!(e=n.sent)){n.next=12;break}return e.interceptor=Y(L),n.next=8,u.a.awrap(q(e));case 8:return n.next=10,u.a.awrap(K());case 10:t=n.sent,y(t);case 12:a(e),n.next=18;break;case 15:throw n.prev=15,n.t0=n.catch(0),n.t0;case 18:case"end":return n.stop()}}),null,null,[[0,15]],Promise)})().then((function(){return E(!1)}))}),[]);var I=function(e,t){var n,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,u.a.awrap(Q(e,t,L));case 3:return n=o.sent,o.next=6,u.a.awrap(K());case 6:r=o.sent,y(r),a(n),o.next=14;break;case 11:throw o.prev=11,o.t0=o.catch(0),o.t0;case 14:case"end":return o.stop()}}),null,null,[[0,11]],Promise)},L=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(Z(o));case 2:f([]),y(void 0),a(void 0);case 5:case"end":return e.stop()}}),null,null,null,Promise)};return Object(O.jsx)(te.Provider,{value:{authToken:o,user:m,items:l,journals:b,headerAction:P,loading:D,helpers:{signIn:I,signUp:function(e,t,n,r){return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,u.a.awrap($({email:e,password:t,forename:n,surname:r}));case 3:return o.next=5,u.a.awrap(I(e,t));case 5:o.next=10;break;case 7:throw o.prev=7,o.t0=o.catch(0),o.t0;case 10:case"end":return o.stop()}}),null,null,[[0,7]],Promise)},signOut:L,setUser:y,setItems:f,setJournals:h,setHeaderAction:S}},children:t})},re=function(){var e=p.a.useContext(te);if(!e)throw new Error("useAppContext must be used within an ContextProvider");return e},oe=n(271),ae={prefixes:[Object(oe.a)("/")],config:{screens:{Root:{path:"/portion-mate",screens:{BottomTab:{screens:{Home:{},Journal:"journal",Stats:"stats",Resources:"resources",Settings:"settings",Action:{path:"add",screens:{Item:"item",Journal:"journal"}}}},Auth:{screens:{Login:"login",Register:"register"}},Loading:{}}},Modal:"modal",NotFound:"*"}}},ce=n(517),se=n(38),ie=n(63),ue={};["None","Flex"].forEach((function(e){ue["display"+e]={display:e.toLowerCase()}}));var le=ue,pe={};[0,1,2,3,4,5].forEach((function(e){pe["flex"+e]={flex:e}}));["Row","Column","Column-reverse","Row-reverse"].forEach((function(e){pe["flexDirection"+e]={flexDirection:e.toLowerCase()}}));var fe={Content:["Center","Flex-end","Flex-start","Space-around","Space-between","Stretch"],Items:["Baseline","Center","Flex-end","Flex-start","Stretch"],Self:["Auto","Baseline","Center","Flex-end","Flex-start","Stretch"]};["Content","Items","Self"].forEach((function(e){return fe[e].forEach((function(t){pe["align"+e+t]=a()({},"align"+e,t.toLowerCase())}))}));["Center","Flex-end","Flex-start","Space-around","Space-between","Space-evenly"].forEach((function(e){pe["justifyContent"+e]={justifyContent:e.toLowerCase()}}));var de=pe,je=["margin","padding"],be=["","Horizontal","Vertical","Top","Bottom","Left","Right"],he={};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}[0,1,2,3,4,5].forEach((function(e){return je.forEach((function(t){return be.forEach((function(n){he[""+t+n+e]=a()({},""+t+n,16*e)}))}))}));var xe=Oe(Oe(Oe({},he),le),de);function me(e){return h.a.create(Oe(Oe({},xe),e))}function ye(e){var t=e.navigation,n=P().ThemeToggle;return Object(O.jsxs)(se.a,{style:ve.flex1,children:[Object(O.jsxs)(d.Layout,{style:[ve.flex1,ve.alignItemsCenter,ve.justifyContentCenter,ve.padding2],children:[Object(O.jsx)(d.Text,{style:ve.title,children:"This screen doesn't exist."}),Object(O.jsx)(ie.a,{onPress:function(){return t.replace("Root")},style:ve.link,children:Object(O.jsx)(d.Text,{style:ve.linkText,children:"Go to home screen!"})})]}),Object(O.jsx)(n,{style:ve.toggle})]})}var ve=me({title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"},toggle:{position:"absolute",bottom:0,right:0}}),we=n(16),Pe=n(2),Se=n(270),Te=n(52);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){return Object(O.jsx)(d.Text,De(De({},e),{},{style:[e.style,{fontFamily:"space-mono"}]}))}function Ee(e){var t=e.path;return Object(O.jsxs)(Pe.a,{children:[Object(O.jsxs)(Pe.a,{style:Ie.getStartedContainer,children:[Object(O.jsx)(d.Text,{style:Ie.getStartedText,children:"Open up the code for this screen:"}),Object(O.jsx)(Pe.a,{style:[Ie.codeHighlightContainer,Ie.homeScreenFilename],children:Object(O.jsx)(ke,{children:t})}),Object(O.jsx)(d.Text,{style:Ie.getStartedText,children:"Change any of the text, save the file, and your app will automatically update."})]}),Object(O.jsx)(Pe.a,{style:Ie.helpContainer,children:Object(O.jsx)(ie.a,{onPress:function(){return Te.a.openURL("https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet")},style:Ie.helpLink,children:Object(O.jsx)(d.Text,{style:Ie.helpLinkText,children:"Tap here if your app doesn't automatically update after making changes"})})})]})}var Ie=me({getStartedContainer:{alignItems:"center",marginHorizontal:50},homeScreenFilename:{marginVertical:7},codeHighlightContainer:{borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,lineHeight:24,textAlign:"center"},helpContainer:{marginTop:15,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}});function Le(){var e=P().ThemeToggle;return Object(O.jsxs)(se.a,{style:Be.flex1,children:[Object(O.jsxs)(d.Layout,{style:[Be.flex1,Be.alignItemsCenter,Be.justifyContentCenter],children:[Object(O.jsx)(d.Text,{style:Be.title,children:"Modal"}),Object(O.jsx)(Pe.a,{style:Be.separator}),Object(O.jsx)(Ee,{path:"/screens/ModalScreen.tsx"}),Object(O.jsx)(Se.a,{style:"ios"===we.a.OS?"light":"auto"})]}),Object(O.jsx)(e,{style:Be.toggle})]})}var Be=me({title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},toggle:{position:"absolute",bottom:0,right:0}}),Fe=n(42),Re=n(44),Ae=n(32),ze=n(515),Ne=n(19),He=n.n(Ne),Ve=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/trackitem/","POST",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)},Me=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/trackitem/","PATCH",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)},_e=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/trackitem/","DELETE",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/userlogs/","POST",We(We({},e),{},{timestamp:(new Date).toISOString()})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},Ue=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:U("/userlogs/","DELETE",e);case 1:case"end":return t.stop()}}),null,null,null,Promise)};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ye=function(e,t){return Object(O.jsx)(d.Icon,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},e),t)};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze={1:"d",7:"w",30:"m",365:"y"};function Ke(){var e=re(),t=e.items,n=e.headerAction,r=e.helpers.setItems,o="Home"===n;p.a.useEffect((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length>0){e.next=6;break}return e.t0=r,e.next=4,u.a.awrap(u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("/trackitem/"));case 1:case"end":return e.stop()}}),null,null,null,Promise));case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),null,null,null,Promise)}),[t,r]);var a=function(e,n){var o,a,c,s,i,l,p,f;return u.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=t.indexOf(n),a=Xe({},n),c=He()(t),"add"!==e){d.next=10;break}return d.next=6,u.a.awrap(Ge({item:"id"in n?n.id:n}));case 6:i=d.sent,null==(s=a.logs)||s.push(i),d.next=15;break;case 10:if(!(p=null==(l=n.logs)?void 0:l.pop())){d.next=15;break}return d.next=14,u.a.awrap(Ue(p));case 14:a.logs=null==(f=a.logs)?void 0:f.filter((function(e){return e.id!==p.id}));case 15:c[o]=a,r(c);case 17:case"end":return d.stop()}}),null,null,null,Promise)},c=function(e,n,o){var a,c,s,i,l;return u.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(a=t.indexOf(o),c=Xe({},o),s=He()(t),!e){p.next=11;break}return i=o.target,l="add"===n?i+1:i-1,p.next=8,u.a.awrap(Me(Xe(Xe({},c),{},{target:l})));case 8:c.target=l,p.next=17;break;case 11:if("remove"!==n){p.next=17;break}return p.next=14,u.a.awrap(_e(o));case 14:return p.abrupt("return",r(s.filter((function(e){return e.id!==o.id}))));case 17:s[a]=c,r(s);case 19:case"end":return p.stop()}}),null,null,null,Promise)},s=function(e){return Array.from(Array(e.logs&&e.logs.length>0?Math.max(e.target,e.logs.length):e.target),(function(t,n){return function(e,t){return Object(O.jsx)(d.CheckBox,{style:$e.checkbox,checked:t<e.logs.length,onChange:function(t){return a(t?"add":"remove",e)}},t)}(e,n)}))};return Object(O.jsx)(se.a,{style:$e.flex1,children:Object(O.jsx)(d.Layout,{style:$e.flex1,children:Object(O.jsx)(d.List,{data:t,renderItem:function(e){return Object(O.jsx)(d.ListItem,{title:e.item.item.name,description:function(t){return function(e,t){return o?Object(O.jsxs)(d.Text,Xe(Xe({},e),{},{style:[null==e?void 0:e.style,{fontSize:18,fontWeight:"bold"}],children:[t.target,Object(O.jsxs)(d.ButtonGroup,{appearance:"ghost",children:[Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"add")},onPress:function(){return c(!0,"add",t)}}),Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"remove")},disabled:t.target<1,onPress:function(){return c(!0,"remove",t)}})]})]})):Object(O.jsx)(d.Layout,Xe(Xe({},e),{},{style:[null==e?void 0:e.style,{flexDirection:"row",flexWrap:"wrap"}],children:s(t)}))}(t,e.item)},accessoryRight:function(t){return function(e,t){return o?Object(O.jsxs)(d.ButtonGroup,{appearance:"ghost",children:[Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"delete")},onPress:function(){return c(!1,"remove",t)}}),Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"reorder")},disabled:!0,onPress:function(){return c(!1,"add",t)}})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.Text,{children:[t.target,"/",(n=t.frequency,Ze[n]||(n%365===0?""+n/365+Ze[365]:n%30===0?""+n/30+Ze[30]:n%7===0?""+n/7+Ze[7]:n+"d"))]}),Object(O.jsxs)(d.ButtonGroup,{appearance:"ghost",children:[Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"remove")},disabled:t.logs.length<1,onPress:function(){return a("remove",t)}}),Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"add")},onPress:function(){return a("add",t)}})]})]});var n}(0,e.item)}})}})})})}var $e=me({checkbox:{marginRight:2}}),et=n(40);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/journals/","POST",nt({entry_time:(new Date).toISOString()},e)));case 1:case"end":return t.stop()}}),null,null,null,Promise)},ot=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/journals/","DELETE",e));case 1:case"end":return t.stop()}}),null,null,null,Promise)};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=new Date;var it=me({noJournalTitle:{fontSize:20,fontWeight:"bold"},item:{marginVertical:8},itemDate:{fontSize:30,marginRight:10},selectedJournalContainer:{padding:10}}),ut=n(168),lt=n(36).a.get("window"),pt=lt.width,ft={window:{width:pt,height:lt.height},isSmallDevice:pt<375},dt={backgroundColor:"#e26a00",backgroundGradientFrom:"#fb8c00",backgroundGradientTo:"#ffa726",decimalPlaces:0,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},propsForDots:{r:"6",strokeWidth:"2",stroke:"#ffa726"},propsForLabels:{fontFamily:"Roboto"}},jt=new Date,bt=jt.toISOString().slice(0,10),ht=new Date;ht.setDate(ht.getDate()+1);var gt=ht.toISOString().slice(0,10),Ot=new Date(bt+"T05:00:00"),xt=new Date(bt+"T12:00:00"),mt=new Date(bt+"T17:00:00"),yt=new Date(bt+"T22:00:00"),vt=new Date(gt+"T05:00:00");var wt=me({lineChart:{borderRadius:15,marginTop:50,marginHorizontal:20}}),Pt=n(167),St=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("/resources/"));case 1:case"end":return e.stop()}}),null,null,null,Promise)},Tt=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.id,r.next=3,u.a.awrap(_.post("/resources/"+t+"/bookmark/"));case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}}),null,null,null,Promise)};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=me({contentContainer:{paddingHorizontal:10},contentImage:{flex:1,maxWidth:400,margin:"auto"},noResourceTitle:{fontSize:20,fontWeight:"bold"},item:{marginVertical:8},itemFooter:{marginHorizontal:-8}});function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=me({formElement:{marginVertical:2},themeToggleStyle:{position:"absolute",bottom:0,right:0},viewPassword:{minHeight:0,minWidth:0,paddingVertical:0,paddingHorizontal:0},loginButton:{marginTop:10},agreedSpacing:{marginVertical:10},agreedTextSpacing:{marginHorizontal:4}}),Bt=function(e,t,n){return Object(O.jsx)(d.Button,It(It({appearance:"ghost",onPress:function(){return t(!n)},accessoryLeft:function(e){return function(e,t){return Object(O.jsx)(d.Icon,It({name:e?"visibility-off":"visibility"},t))}(n,e)}},e),{},{style:Lt.viewPassword}))},Ft=function(e){var t=e.navigation,n=e.page;return Object(O.jsx)(d.Button,{onPress:function(){return t.navigate(n)},status:"warning",style:Lt.formElement,children:"Register"===n?"create account":"log into existing account"})},Rt=Lt,At=["hint","hintProps","children"];function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e){var t=e.hint,n=e.hintProps,r=e.children,o=b()(e,At);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Re.a,Nt(Nt({},o),{},{style:[Mt.padding1,Mt.flexDirectionRow,Mt["justifyContentSpace-between"],Mt.alignItemsCenter],children:[Object(O.jsx)(d.Text,Nt(Nt({},n),{},{category:"s2",children:t})),r]})),Object(O.jsx)(d.Divider,{})]})}function Vt(e){var t=e.hint,n=e.hintProps,r=e.children;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Pe.a,{style:[Mt.padding1,Mt.flexDirectionRow,Mt["justifyContentSpace-between"],Mt.alignItemsCenter],children:Object(O.jsx)(d.Text,Nt(Nt({},n),{},{category:"s2",children:t}))}),Object(O.jsx)(d.Divider,{}),Object(O.jsx)(Pe.a,{style:[Mt.alignContentCenter,Mt.marginTop2,Mt.marginBottom4,Mt.marginHorizontal1],children:r}),Object(O.jsx)(d.Divider,{})]})}var Mt=me({cardMargin:{margin:2},alertBackdrop:{backgroundColor:"rgba(0, 0, 0, 0.5)"},noSettingsTitle:{fontSize:20,fontWeight:"bold"}}),_t=n(21),Jt=n(84),Wt=n(60);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e){var t=e.name,n=e.text,r=e.icon,o=e.color,a=void 0===o?"red":o,c=e.shadow,s=void 0===c?{}:c,i=e.animated,u=void 0===i||i,l=e.buttonSize,f=void 0===l?40:l,j=e.position,b=void 0===j?"right":j,h=e.textStyle,g=void 0===h?{}:h,x=e.textColor,m=void 0===x?"black":x,y=e.textProps,v=void 0===y?{}:y,w=e.textElevation,P=void 0===w?5:w,S=e.textBackground,T=void 0===S?"white":S,C=e.textContainerStyle,D=void 0===C?{}:C,k=e.paddingTopBottom,E=void 0===k?8:k,I=e.onPress,L=p.a.useRef(new _t.a.Value(0)).current;return Object(O.jsx)(Re.a,{style:[Yt.container,Yt.flex1,Yt.flexDirectionColumn],onPress:function(){return I(t)},children:Object(O.jsxs)(_t.a.View,{style:[Yt.container,Yt.flex1,Yt.flexDirectionRow,Yt.alignItemsCenter,Yt.paddingLeft0,Yt.paddingRight0,u?{marginBottom:L.interpolate({inputRange:[0,1],outputRange:[5,10]})}:{marginBottom:10},{paddingTop:E,paddingBottom:E}],children:[Object(O.jsx)(d.Layout,{style:[Yt.textContainer,Yt[b+"TextContainer"],{backgroundColor:T,elevation:P,shadowOffset:{height:P,width:P}},s,D],children:Object(O.jsx)(d.Text,Ut(Ut({style:[Yt.text,{color:m},g]},v),{},{children:n||t}))}),Object(O.jsx)(d.Button,{onPress:function(){return I(t)},style:[Yt.button,Yt.alignItemsCenter,Yt.justifyContentCenter,{backgroundColor:a,width:f,height:f,borderRadius:f/2},s],accessoryLeft:function(e){return Object(O.jsx)(d.Icon,Ut({name:r},e))}})]})})}var Yt=me({container:{elevation:0},textContainer:{paddingHorizontal:8,elevation:5,borderRadius:4,height:22},leftTextContainer:{marginLeft:14},centerTextContainer:{},rightTextContainer:{marginRight:14},text:{fontSize:14,lineHeight:20},button:{elevation:5}});function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt={shadowOpacity:.35,shadowOffset:{width:0,height:5},shadowColor:"#000000",shadowRadius:3};var Kt=me({actions:{position:"absolute",bottom:85,zIndex:10},rightActions:{alignItems:"flex-end",right:30},leftActions:{alignItems:"flex-start",left:30},centerActions:{},rightActionsVisible:{right:30},leftActionsVisible:{left:30},centerActionsVisible:{},overlay:{position:"absolute",bottom:0,left:0,right:0,top:0,elevation:0,zIndex:0,backgroundColor:"transparent"},buttonContainer:{overflow:"hidden",zIndex:2,alignItems:"center",justifyContent:"center",elevation:5,position:"absolute"},button:{zIndex:3,alignItems:"center",justifyContent:"center"},rightButton:{},leftButton:{},centerButton:{},iconHorizontalContainer:{width:2,position:"absolute",height:15},iconVerticalContainer:{height:2,position:"absolute",width:15}}),$t=function(e){var t=e.color,n=void 0===t?"red":t,r=e.shadow,o=void 0===r?{}:r,a=e.actions,c=void 0===a?[]:a,i=e.visible,u=void 0===i||i,l=e.position,f=void 0===l?"right":l,j=e.animated,b=void 0===j||j,h=e.iconHeight,g=void 0===h?15:h,x=e.iconWidth,m=void 0===x?15:x,y=e.iconColor,v=void 0===y?"#fff":y,w=e.buttonSize,P=void 0===w?56:w,S=e.floatingIcon,T=e.overlayColor,C=void 0===T?"rgba(68, 68, 68, 0.6)":T,D=e.showBackground,k=void 0===D?"true":D,E=e.distanceToEdge,I=void 0===E?30:E,L=e.mainVerticalDistance,B=void 0===L?0:L,F=e.actionsPaddingTopBottom,R=void 0===F?8:F,A=e.onPressMain,z=e.onPressAction,N=p.a.useState(!1),H=s()(N,2),V=H[0],M=H[1],_="number"===typeof I?I:I.vertical,J="number"===typeof I?I:I.horizontal,W={width:P,height:P,borderRadius:P/2},G=Xt(Xt({},Zt),o),U=p.a.useRef(new _t.a.Value(0)).current,q=p.a.useRef(new _t.a.Value(0)).current,Y=p.a.useRef(new _t.a.Value(u?0:1)).current,Q=p.a.useRef(new _t.a.Value(u?1:0)).current,X=p.a.useRef(new _t.a.Value(_+B)).current,Z=p.a.useRef(new _t.a.Value(P+_+R+B)).current,K=function(){b&&(_t.a.spring(U,{toValue:0,useNativeDriver:!1}).start(),_t.a.spring(q,{toValue:0,useNativeDriver:!1}).start()),M(!1)},$=function(){Wt.a.dismiss(),A&&A(!V),!V&&c.length>0?(b&&(_t.a.spring(U,{toValue:1,useNativeDriver:!1}).start(),_t.a.spring(q,{toValue:1,useNativeDriver:!1}).start(),Jt.a.configureNext({duration:180,create:{type:Jt.a.Types.easeInEaseOut,property:Jt.a.Properties.opacity}})),M(!0)):K()},ee=function(e){z&&e&&z(e),K()};return Object(O.jsxs)(_t.a.View,{pointerEvents:"box-none",style:[Kt.overlay,{display:u?"flex":"none"}],children:[V&&k&&Object(O.jsx)(Re.a,{style:[Kt.overlay,{backgroundColor:C}],onPress:K}),V&&c&&c.length>0&&Object(O.jsx)(_t.a.View,{style:[Kt.actions,Kt[f+"Actions"],b?{opacity:q.interpolate({inputRange:[0,1],outputRange:[0,1]})}:{opacity:V?1:0},{bottom:Z},V?Kt[f+"ActionsVisible"]:{}],pointerEvents:"box-none",children:c.map((function(e){return Object(O.jsx)(qt,Xt({color:n,position:f,shadow:G,active:V,animated:b,onPress:ee,paddingTopBottom:R},e),e.name)}))}),Object(O.jsx)(_t.a.View,{style:[Kt.buttonContainer,W,Kt[f+"Button"],{backgroundColor:V?"white":n,bottom:X,right:J},b?{opacity:Q,transform:[{rotate:Y.interpolate({inputRange:[0,1],outputRange:["0deg","90deg"]})},{scale:Y.interpolate({inputRange:[0,1],outputRange:[1,0]})}]}:{},G],accessible:!0,accessibilityLabel:"Floating Action Button",children:Object(O.jsx)(Re.a,{style:[Kt.button,W],onPress:$,children:Object(O.jsx)(_t.a.View,{style:[Kt.flex1,Kt.alignItemsCenter,Kt.justifyContentCenter,W,{transform:[{rotate:V?"45deg":"0deg"}]},b?{transform:[{rotate:U.interpolate({inputRange:[0,1],outputRange:["0deg","45deg"]})}]}:{transform:[{rotate:V?"45deg":"0deg"}]}],children:S?Object(O.jsx)(d.Button,{onPress:$,appearance:"ghost",accessoryLeft:function(e){return Object(O.jsx)(d.Icon,Xt(Xt({name:S},e),{},{style:[null==e?void 0:e.style,{color:V?n:v}]}))}}):Object(O.jsxs)(Pe.a,{style:Kt.buttonContainer,children:[Object(O.jsx)(Pe.a,{style:[Kt.iconHorizontalContainer,{height:g,backgroundColor:V?n:v}]}),Object(O.jsx)(Pe.a,{style:[Kt.iconVerticalContainer,{width:m,backgroundColor:V?n:v}]})]})})})})]})},en=n(76);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=function(e,t){return Object(O.jsx)(d.Button,nn(nn({appearance:"ghost",status:"basic"},e),{},{onPress:t,children:"Cancel"}))},on=function(e){var t=e.onPressMain;return Object(O.jsx)($t,{floatingIcon:"check",color:"green",onPressMain:t})},an={DAILY:1,WEEKLY:7,MONTHLY:30};function cn(e){var t=e.navigation,n=re(),r=n.items,o=void 0===r?[]:r,a=n.helpers.setItems,c=p.a.useState(""),i=s()(c,2),l=i[0],f=i[1],j=p.a.useState(1),b=s()(j,2),h=b[0],g=b[1],x=p.a.useState(new d.IndexPath(0)),m=s()(x,2),y=m[0],v=m[1],w=p.a.useState(),P=s()(w,2),S=P[0],T=P[1],C=Object.keys(an),D=function(){return t.goBack()};return Object(O.jsxs)(en.a,{style:sn.flex1,children:[Object(O.jsxs)(d.Layout,{style:sn.flex1,children:[Object(O.jsx)(d.TopNavigation,{alignment:"start",title:"New Item",accessoryRight:function(e){return rn(e,D)}}),Object(O.jsx)(Pe.a,{style:[sn.alignItemsCenter,sn.justifyContentCenter],children:Object(O.jsxs)(Pe.a,{style:sn.formInnerContainer,children:[Object(O.jsx)(d.Input,{placeholder:"Enter name",onChangeText:f,style:sn.formElement,caption:null==S?void 0:S.name,status:null!=S&&S.name?"danger":"basic",size:"large"}),Object(O.jsxs)(Pe.a,{style:sn.flexDirectionRow,children:[Object(O.jsx)(d.Input,{placeholder:"target",value:""+h,onChangeText:function(e){return g(function(e){var t;return parseInt((null==(t=e.match(/\d+/g))?void 0:t.join(""))||"0")}(e))},style:[sn.flex1,sn.formElement],size:"large"}),Object(O.jsx)(d.Select,{value:C[y.row].toLowerCase(),selectedIndex:y,onSelect:function(e){return v(e)},style:[sn.flex1,sn.formElement],size:"large",disabled:!0,children:C.map((function(e){return Object(O.jsx)(d.SelectItem,{title:e},e)}))})]})]})})]}),Object(O.jsx)(on,{onPressMain:function(){return l?function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(Ve({item:{name:l},target:h,frequency:an[C[y.row]]}));case 2:e=t.sent,a([].concat(He()(o),[e])),D();case 5:case"end":return t.stop()}}),null,null,null,Promise)}():T({name:"This field is required."})}})]})}var sn=me({formInnerContainer:{maxWidth:500,marginTop:100},formElement:{margin:2}}),un=new Date;un.setDate(un.getDate()+1);var ln=un.toISOString().slice(0,10),pn=new Date,fn=pn.toISOString().slice(0,10),dn=new Date;dn.setDate(dn.getDate()+1);var jn=dn.toISOString().slice(0,10),bn=new Date(ln+"T22:00:00"),hn=new Date(fn+"T05:00:00"),gn=new Date(fn+"T12:00:00"),On=new Date(fn+"T17:00:00"),xn=new Date(fn+"T22:00:00"),mn=new Date(jn+"T05:00:00");function yn(e){var t=e.navigation,n=re(),r=n.journals,o=void 0===r?[]:r,a=n.helpers.setJournals,c=p.a.useState(""),i=s()(c,2),l=i[0],f=i[1],j=p.a.useState(pn),b=s()(j,2),h=b[0],g=b[1],x=p.a.useState(""),m=s()(x,2),y=m[0],v=m[1],w=p.a.useState(),P=s()(w,2),S=P[0],T=P[1],C=function(){return t.goBack()};return Object(O.jsxs)(se.a,{style:vn.flex1,children:[Object(O.jsxs)(d.Layout,{style:vn.flex1,children:[Object(O.jsx)(d.TopNavigation,{alignment:"start",title:"Journal Entry",accessoryRight:function(e){return rn(e,C)}}),Object(O.jsxs)(Pe.a,{style:[vn.formContainer,vn.flexDirectionRow],children:[Object(O.jsx)(d.Input,{placeholder:function(){var e="";return h>=bn&&h<hn||h>=xn&&h<mn?e="Midnight Snack":h>=hn&&h<gn?e="Breakfast":h>=gn&&h<On?e="Lunch":h>=On&&h<xn&&(e="Dinner"),e}()||"meal",onChangeText:f,caption:null==S?void 0:S.meal,status:null!=S&&S.meal?"danger":"basic",size:"large"}),Object(O.jsx)(d.Input,{placeholder:"time",value:h.toDateString()+" "+h.toLocaleTimeString(),onChangeText:function(e){return g(new Date(e))},style:vn.timeInput,size:"large",disabled:!0})]}),Object(O.jsx)(d.Input,{multiline:!0,placeholder:"journal entry...",onChangeText:v,textStyle:vn.journalEntryText,style:vn.journalEntry})]}),Object(O.jsx)(Ke,{}),Object(O.jsx)(on,{onPressMain:function(){return l?function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(rt({meal:l,entry_time:h.toISOString(),content:y}));case 2:e=t.sent,a([].concat(He()(o),[e])),C();case 5:case"end":return t.stop()}}),null,null,null,Promise)}():T({meal:"This field is required."})}})]})}var vn=me({formContainer:{margin:10},timeInput:{marginHorizontal:5},journalEntry:{margin:10},journalEntryText:{minHeight:100}}),wn=Object(ce.a)();function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=Object(ze.a)(),Cn={Home:"edit",Journal:"calendar-today",Stats:"calendar-today",Resources:"star"},Dn=[{name:"Home",component:Ke,icon:"home"},{name:"Journal",component:function(){var e=re(),t=e.journals,n=e.headerAction,r=e.helpers,o=r.setJournals,a=r.setHeaderAction,c="Journal"===n,i=p.a.useState(!1),l=s()(i,2),f=l[0],j=l[1],b=p.a.useState(),h=s()(b,2),g=h[0],x=h[1],m=p.a.useState(st),y=s()(m,2),v=y[0],w=y[1];p.a.useEffect((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=7;break}return e.t0=o,e.next=4,u.a.awrap(u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("/journals/"));case 1:case"end":return e.stop()}}),null,null,null,Promise));case 4:e.t1=e.sent,(0,e.t0)(e.t1),j(!0);case 7:case"end":return e.stop()}}),null,null,null,Promise)}),[f,o,j]);var P=function(){var e;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!g){n.next=5;break}return e=null==t?void 0:t.filter((function(e){return e.id!==g.id})),n.next=4,u.a.awrap(ot(g));case 4:o(e);case 5:x(void 0);case 6:case"end":return n.stop()}}),null,null,null,Promise)};return Object(O.jsx)(se.a,{style:it.flex1,children:c?Object(O.jsx)(d.Layout,{style:[it.flex1,it.alignItemsCenter,it.justifyContentCenter],children:Object(O.jsx)(d.Calendar,{date:v,max:st,onSelect:function(e){w(e),a(void 0)}})}):Object(O.jsxs)(d.Layout,{style:it.flex1,children:[Object(O.jsx)(d.TopNavigation,{alignment:"center",title:g?"Journal Entry":v.toLocaleDateString(),accessoryLeft:function(e){var t=new Date(v);return t.setDate(t.getDate()-1),g?Object(O.jsx)(d.TopNavigationAction,ct({icon:function(e){return Ye(e,"arrow-back")},onPress:function(){return x(void 0)}},e)):Object(O.jsx)(d.Button,{appearance:"ghost",status:"basic",accessoryLeft:function(e){return Ye(e,"arrow-back")},onPress:function(){return w(t)},children:t.toLocaleDateString()})},accessoryRight:function(e){var t=new Date(v);return t.setDate(v.getDate()+1),g?Object(O.jsx)(d.TopNavigationAction,ct({icon:function(e){return Ye(e,"delete")},onPress:P},e)):st>=t?Object(O.jsx)(d.Button,{appearance:"ghost",status:"basic",accessoryRight:function(e){return Ye(e,"arrow-forward")},onPress:function(){return w(t)},children:t.toLocaleDateString()}):Object(O.jsx)(O.Fragment,{})}}),g?Object(O.jsxs)(et.a,{style:it.selectedJournalContainer,children:[Object(O.jsxs)(Pe.a,{style:[it.flexDirectionRow,it.marginTop4],children:[Object(O.jsx)(d.Text,{category:"label",children:"Time"}),Object(O.jsx)(d.Text,{style:it.marginHorizontal1,children:new Date(g.entry_time).toDateString()}),Object(O.jsx)(d.Text,{children:new Date(g.entry_time).toLocaleTimeString()})]}),Object(O.jsxs)(Pe.a,{style:it.flexDirectionRow,children:[Object(O.jsx)(d.Text,{category:"label",children:"Meal"}),Object(O.jsx)(d.Text,{style:it.marginHorizontal1,children:g.meal})]}),Object(O.jsx)(d.Text,{style:it.marginTop4,children:g.content})]}):t&&t.length>0?Object(O.jsx)(d.List,{data:t,renderItem:function(e){return Object(O.jsxs)(d.Card,{style:it.item,onPress:function(){return x(e.item)},children:[Object(O.jsxs)(Pe.a,{style:it.flexDirectionRow,children:[Object(O.jsx)(d.Text,{style:it.itemDate,children:new Date(e.item.entry_time).toLocaleTimeString().slice(0,5)}),Object(O.jsx)(d.Text,{category:"h3",children:e.item.meal})]}),Object(O.jsx)(d.Text,{children:e.item.content.substring(0,82)+"..."})]})}}):Object(O.jsx)(d.Layout,{style:[it.flex1,it.alignItemsCenter,it.justifyContentCenter,it.padding2],children:Object(O.jsx)(d.Text,{style:it.noJournalTitle,children:"No journals added"})})]})})},icon:"book"},{name:"Stats",component:function(){var e=re(),t=e.items,n="Stats"===e.headerAction,r=P().theme,o=ft.window.width,a=p.a.useState(0),c=s()(a,2),i=c[0],u=c[1];return Object(O.jsx)(se.a,{style:wt.flex1,children:n?Object(O.jsx)(d.Layout,{style:[wt.flex1,wt.alignItemsCenter,wt.justifyContentCenter],children:Object(O.jsx)(d.Calendar,{max:jt})}):Object(O.jsxs)(d.Layout,{style:wt.flex1,children:[Object(O.jsxs)(d.TabBar,{selectedIndex:i,onSelect:u,children:[Object(O.jsx)(d.Tab,{title:"DAILY"}),Object(O.jsx)(d.Tab,{title:"WEEKLY",disabled:!0}),Object(O.jsx)(d.Tab,{title:"MONTHLY",disabled:!0})]}),Object(O.jsxs)(et.a,{children:[Object(O.jsx)(ut.b,{data:t?t.map((function(e){var t;return{name:e.item.name,count:(null==(t=e.logs)?void 0:t.length)||0,color:"#"+(16777216*(Math.random()+2)|0).toString(16).slice(1),legendFontColor:"light"===r?"#00000":"#ffffff",legendFontSize:15,legendFontFamily:"Roboto"}})):[],width:o,height:360,chartConfig:dt,paddingLeft:"15",backgroundColor:"transparent",accessor:"count"}),Object(O.jsx)(ut.a,{data:{labels:["Morning","Afternoon","Evening","Night"],datasets:t?[{data:function(e){var t=e.map((function(e){var t=(e.logs||[]).map((function(e){return new Date(e.timestamp)}));return[t.filter((function(e){return e>Ot&&e<xt})).length,t.filter((function(e){return e>xt&&e<mt})).length,t.filter((function(e){return e>mt&&e<yt})).length,t.filter((function(e){return e>yt&&e<vt})).length]})),n=[];return t.forEach((function(e){return e.forEach((function(e,t){n[t]=(n[t]||0)+e}))})),n}(t)}]:[]},width:o-50,height:360,chartConfig:dt,bezier:!0,style:wt.lineChart})]})]})})},icon:"bar-chart"},{name:"Resources",component:function(){var e="Resources"===re().headerAction,t=p.a.useState(!1),n=s()(t,2),r=n[0],o=n[1],a=p.a.useState([]),c=s()(a,2),i=c[0],l=c[1],f=p.a.useState(),j=s()(f,2),b=j[0],h=j[1];p.a.useEffect((function(){!function(e,t){var n,r,o,a;u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=e.fetched,r=e.setFetched,o=t.fetchItems,a=t.setItems,n){c.next=9;break}return c.t0=a,c.next=6,u.a.awrap(o());case 6:c.t1=c.sent,(0,c.t0)(c.t1),r(!0);case 9:case"end":return c.stop()}}),null,null,null,Promise)}({fetched:r,setFetched:o},{fetchItems:St,setItems:l})}),[r,l,o]);var g=function(e){var t,n,r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=i.indexOf(e),n=Dt({},e),r=He()(i),o.next=5,u.a.awrap(Tt(e));case 5:n.bookmarked=!e.bookmarked,b&&h(n),r[t]=n,l(r);case 9:case"end":return o.stop()}}),null,null,null,Promise)};return Object(O.jsx)(se.a,{style:kt.flex1,children:Object(O.jsx)(d.Layout,{style:kt.flex1,children:b?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.TopNavigation,{alignment:"center",title:b.title,subtitle:b.author+" | "+b.date_published,accessoryLeft:function(e){return Object(O.jsx)(d.TopNavigationAction,Dt({icon:function(e){return Ye(e,"arrow-back")},onPress:function(){return h(void 0)}},e))},accessoryRight:function(e){return b?Object(O.jsxs)(d.ButtonGroup,Dt(Dt({},e),{},{appearance:"ghost",status:"basic",children:[Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,b.bookmarked?"star":"star-outline")},onPress:function(){return g(b)}}),Object(O.jsx)(d.Button,{accessoryLeft:function(e){return Ye(e,"open-in-new")},onPress:function(){return Te.a.openURL(b.link)}})]})):Object(O.jsx)(O.Fragment,{})}}),Object(O.jsx)(et.a,{children:Object(O.jsx)(d.Text,{children:Object(O.jsx)(Pt.a,{style:{body:kt.contentContainer,image:kt.contentImage},children:b.content})})})]}):i.length>0?Object(O.jsx)(d.List,{data:i.filter((function(t){return!e||t.bookmarked})),renderItem:function(e){return Object(O.jsxs)(d.Card,{style:kt.item,footer:function(t){return function(e,t){return Object(O.jsxs)(Pe.a,Dt(Dt({},e),{},{style:[kt.itemFooter,kt.flexDirectionRow],children:[Object(O.jsxs)(Pe.a,{style:[kt.flex1,kt.justifyContentCenter,kt.marginHorizontal1],children:[Object(O.jsx)(d.Text,{category:"s2",children:t.item.author}),Object(O.jsx)(d.Text,{appearance:"hint",category:"c1",children:t.item.date_published})]}),Object(O.jsx)(d.Button,{appearance:"ghost",status:"basic",accessoryLeft:function(e){return Ye(e,t.item.bookmarked?"star":"star-outline")},onPress:function(){return g(t.item)}})]}))}(t,e)},onPress:function(){return h(e.item)},children:[Object(O.jsx)(d.Text,{category:"h2",children:e.item.title}),Object(O.jsx)(d.Text,{children:Object(O.jsx)(Pt.a,{children:e.item.content.substring(0,82)+"..."})})]})}}):Object(O.jsx)(d.Layout,{style:[kt.flex1,kt.alignItemsCenter,kt.justifyContentCenter,kt.padding2],children:Object(O.jsx)(d.Text,{style:kt.noResourceTitle,children:"No resources available"})})})})},icon:"menu-book"},{name:"Settings",component:function(e){var t=e.navigation,n=re(),r=n.user,o=n.helpers,a=o.setUser,c=o.signOut,i=P(),l=i.switchTheme,f=i.theme,j=p.a.useState(""),b=s()(j,2),h=b[0],g=b[1],x=p.a.useState(""),m=s()(x,2),y=m[0],v=m[1],w=p.a.useState(0),S=s()(w,2),T=S[0],C=S[1],D=p.a.useState(0),k=s()(D,2),E=k[0],I=k[1],L=p.a.useState(0),B=s()(L,2),F=B[0],R=B[1],A=[{placeholder:"age",value:T,onChangeText:C},{placeholder:"height (cm)",value:E,onChangeText:I},{placeholder:"weight (kg)",value:F,onChangeText:R}],z=p.a.useState(""),N=s()(z,2),H=N[0],V=N[1],M=p.a.useState(""),_=s()(M,2),J=_[0],W=_[1],G=p.a.useState(""),q=s()(G,2),Y=q[0],Q=q[1],X=p.a.useState(!1),Z=s()(X,2),K=Z[0],$=Z[1],te=[{placeholder:"current password",value:H,onChangeText:V},{placeholder:"new password",value:J,onChangeText:W},{placeholder:"repeat password",value:Y,onChangeText:Q}],ne=p.a.useState(),oe=s()(ne,2),ae=oe[0],ce=oe[1],ie=p.a.useState(!1),ue=s()(ie,2),le=ue[0],pe=ue[1];p.a.useEffect((function(){r&&(g(r.forename||""),v(r.surname||""),C(r.age||0),I(r.height||0),R(r.weight||0))}),[r,g,v,C,I,R]);var fe=function(){ce(void 0),V(""),W(""),Q("")},de=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return e=Nt(Nt({},r),{},{forename:h,surname:y,picture:null,age:T,height:E,weight:F}),t.next=4,u.a.awrap(ee(Nt(Nt({},e),{},{old_password:H,password:J})).then(fe).catch(ce));case 4:a(e);case 5:case"end":return t.stop()}}),null,null,null,Promise)};return Object(O.jsx)(se.a,{style:Mt.flex1,children:Object(O.jsx)(d.Layout,{style:Mt.flex1,children:r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.TopNavigation,{alignment:"center",title:"Settings",accessoryLeft:function(e){return Object(O.jsx)(d.TopNavigationAction,Nt({icon:function(e){return Ye(e,"arrow-back")},onPress:function(){return t.goBack()}},e))},accessoryRight:function(e){return Object(O.jsx)(d.TopNavigationAction,Nt({icon:function(e){return Ye(e,"save")},onPress:de},e))}}),Object(O.jsxs)(et.a,{children:[Object(O.jsxs)(Vt,{hint:"Edit Profile",children:[Object(O.jsx)(d.Avatar,{source:{uri:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp"},size:"giant",style:[Mt.alignSelfCenter,Mt.marginBottom1]}),Object(O.jsx)(d.Input,{placeholder:"forename",value:h,onChangeText:g}),Object(O.jsx)(d.Input,{placeholder:"surname",value:y,onChangeText:v}),A.map((function(e){return Object(O.jsx)(d.Input,{placeholder:e.placeholder,value:""+(e.value||""),onChangeText:function(t){return e.onChangeText(function(e){var t;return parseInt((null==(t=e.match(/\d+/g))?void 0:t.join(""))||"0")}(t))}},e.placeholder)}))]}),Object(O.jsx)(Vt,{hint:"Change Password",children:te.map((function(e){return Object(O.jsx)(d.Input,Nt(Nt({},e),{},{secureTextEntry:!K,accessoryRight:function(e){return Bt(e,$,K)}},"repeat password"===e.placeholder?{caption:(null==ae?void 0:ae.confirmPassword)||(Y&&Y!==J?"Does not match with your password.":""),status:null!=ae&&ae.confirmPassword||Y&&Y!==J?"danger":"basic"}:{caption:null==ae?void 0:ae.old_password,status:null!=ae&&ae.old_password?"danger":"basic"}),e.placeholder)}))}),Object(O.jsx)(Ht,{hint:"Notifications"}),Object(O.jsx)(Ht,{hint:"Privacy"}),Object(O.jsx)(Ht,{hint:"System Theme",onPress:function(){return l()},children:Object(O.jsx)(d.Toggle,{status:"light"===f?"warning":"basic",onChange:function(){return l()},checked:"light"===f,children:f})}),Object(O.jsx)(Ht,{hint:"Delete Account",hintProps:{status:"danger"},onPress:function(){return pe(!0)}}),Object(O.jsx)(d.Modal,{visible:le,backdropStyle:Mt.alertBackdrop,onBackdropPress:function(){return pe(!1)},children:Object(O.jsxs)(d.Card,{status:"danger",style:[Mt.flex1,Mt.cardMargin],header:function(e){return Object(O.jsx)(Pe.a,Nt(Nt({},e),{},{children:Object(O.jsx)(d.Text,{category:"s2",children:"Are you sure?"})}))},children:[Object(O.jsx)(d.Button,{status:"danger",onPress:function(){var e;e=r,u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U("/users/","DELETE",e));case 1:case"end":return t.stop()}}),null,null,null,Promise),c()},children:"Confirm"}),Object(O.jsx)(d.Button,{appearance:"ghost",status:"basic",onPress:function(){return pe(!1)},children:"Cancel"})]})})]})]}):Object(O.jsx)(d.Layout,{style:[Mt.flex1,Mt.alignItemsCenter,Mt.justifyContentCenter,Mt.padding2],children:Object(O.jsx)(d.Text,{style:Mt.noSettingsTitle,children:"Something went wrong. Please login."})})})})},hideTab:!0},{name:"Action",component:function(){return Object(O.jsxs)(wn.Navigator,{initialRouteName:"Item",children:[Object(O.jsx)(wn.Screen,{name:"Item",component:cn,options:{headerShown:!1}}),Object(O.jsx)(wn.Screen,{name:"Journal",component:yn,options:{headerShown:!1}})]})},hideTab:!0}];function kn(e){var t=e.navigation,n=e.route,r=re(),o=r.headerAction,a=r.helpers,c=a.signOut,i=a.setHeaderAction,u=p.a.useState(!1),l=s()(u,2),f=l[0],j=l[1],b=function(e){return Object(O.jsxs)(Re.a,Sn(Sn({},e),{},{style:[En.flexDirectionRow,En.alignItemsCenter],onPress:function(){return t.navigate("Home")},children:[Object(O.jsx)(Fe.a,{style:En.appIcon,source:{uri:"https://portion-mate.readthedocs.io/en/latest/assets/logo.png"}}),Object(O.jsx)(d.Text,{category:"s2",children:"Portion Mate"})]}))},h=function(e,t){return Object(O.jsx)(d.Icon,Sn({name:t},e))},g=function(e){return Object(O.jsx)(d.Icon,Sn({name:"person"},e),"user")},x=function(e){return Object(O.jsx)(d.Button,Sn({accessoryLeft:g,onPress:function(){return j(!0)},appearance:"ghost"},e))},m=function(e,n){var r=n.route.name;return Object(O.jsxs)(Pe.a,Sn(Sn({style:En.flexDirectionRow},e),{},{children:[Cn[r]&&Object(O.jsx)(d.Button,{appearance:"ghost",accessoryLeft:function(e){return function(e,t){var n=t.name;return Object(O.jsx)(d.Icon,Sn({name:Cn[n],size:30},e),"action")}(e,{name:r})},onPress:function(){return i(o===r?"":r)}}),Object(O.jsxs)(d.OverflowMenu,{anchor:x,backdropStyle:En.backdropBackground,onBackdropPress:function(){return j(!1)},visible:f,onSelect:function(){return j(!1)},children:[Object(O.jsx)(d.MenuItem,{title:"Settings",accessoryLeft:function(e){return h(e,"settings")},onPress:function(){return t.navigate("Settings")}}),Object(O.jsx)(d.MenuItem,{title:"Sign Out",accessoryLeft:function(e){return h(e,"logout")},onPress:function(){return c()}})]})]}))};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Tn.Navigator,{initialRouteName:"Home",tabBar:function(e){return Object(O.jsx)(d.BottomNavigation,Sn(Sn({selectedIndex:e.state.index,onSelect:function(t){return e.navigation.navigate(e.state.routeNames[t])},appearance:"noIndicator"},e),{},{children:Dn.filter((function(e){return!e.hideTab})).map((function(e){return Object(O.jsx)(d.BottomNavigationTab,{icon:function(t){return function(e,t){return Object(O.jsx)(d.Icon,Sn({name:e.icon},t))}(e,t)},title:e.name},e.name)}))}))},screenOptions:{tabBarLabelPosition:"below-icon",header:function(e){return Object(O.jsx)(d.TopNavigation,{accessoryLeft:b,accessoryRight:function(t){return m(t,e)}})},headerShown:!0},children:Dn.map((function(e){return Object(O.jsx)(Tn.Screen,Sn({},e),e.name)}))}),Object(O.jsx)($t,{actions:[{icon:"library-add",name:"Item",text:"Food Item"},{icon:"note-add",name:"Journal",text:"Journal Entry"}],floatingIcon:"add",onPressAction:function(e){return t.navigate("Action",{screen:e})},distanceToEdge:{vertical:80,horizontal:30},visible:"Action"!==Object(Ae.m)(n)})]})}var En=me({appIcon:{height:30,width:30,marginRight:5},backdropBackground:{backgroundColor:"rgba(0, 0, 0, 0.5)"}});function In(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Fe.a,{source:{uri:"https://portion-mate.readthedocs.io/en/latest/assets/logo.png"},style:Ln.appLogo}),Object(O.jsx)(d.Text,{children:"Portion Mate"})]})}var Ln=me({appLogo:{height:200,width:200}});function Bn(e){var t=e.children,n=e.error,r=P().ThemeToggle;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(en.a,{style:Rt.flex1,children:Object(O.jsxs)(d.Layout,{style:[Rt.flex1,Rt.paddingHorizontal1],children:[Object(O.jsx)(Pe.a,{style:[Rt.alignItemsCenter,Rt.justifyContentCenter,Rt.padding2],children:Object(O.jsx)(In,{})}),Object(O.jsxs)(Pe.a,{style:[Rt.flex1,Rt.paddingHorizontal1],children:[n&&Object(O.jsx)(d.Button,{status:"danger",appearance:"outline",style:Rt.marginVertical1,children:null==n?void 0:n.error_description}),t]})]})}),Object(O.jsx)(r,{style:Rt.themeToggleStyle})]})}function Fn(e){var t=e.navigation,n=re().helpers.signIn,r=p.a.useState(""),o=s()(r,2),a=o[0],c=o[1],i=p.a.useState(""),u=s()(i,2),l=u[0],f=u[1],j=p.a.useState(!1),b=s()(j,2),h=b[0],g=b[1],x=p.a.useState(),m=s()(x,2),y=m[0],v=m[1];return Object(O.jsxs)(Bn,{error:y,children:[Object(O.jsx)(d.Input,{placeholder:"email",onChangeText:c,style:Rt.formElement}),Object(O.jsx)(d.Input,{placeholder:"password",onChangeText:f,accessoryRight:function(e){return Bt(e,g,h)},secureTextEntry:!h,style:Rt.formElement}),Object(O.jsx)(d.Button,{onPress:function(){return n(a,l).catch(v)},style:[Rt.formElement,Rt.loginButton],children:"log in"}),Object(O.jsx)(Ft,{navigation:t,page:"Register"})]})}function Rn(e){var t=e.navigation,n=re().helpers.signUp,r=p.a.useState(""),o=s()(r,2),a=o[0],c=o[1],i=p.a.useState(""),u=s()(i,2),l=u[0],f=u[1],j=p.a.useState(""),b=s()(j,2),h=b[0],g=b[1],x=p.a.useState(""),m=s()(x,2),y=m[0],v=m[1],w=p.a.useState(""),P=s()(w,2),S=P[0],T=P[1],C=p.a.useState(!1),D=s()(C,2),k=D[0],E=D[1],I=p.a.useState(!1),L=s()(I,2),B=L[0],F=L[1],R=p.a.useState(),A=s()(R,2),z=A[0],N=A[1];return Object(O.jsxs)(Bn,{children:[Object(O.jsx)(d.Input,{placeholder:"email",onChangeText:c,caption:null==z?void 0:z.email,status:null!=z&&z.email?"danger":"basic",style:Rt.formElement}),Object(O.jsx)(d.Input,{placeholder:"forename",onChangeText:f,style:Rt.formElement}),Object(O.jsx)(d.Input,{placeholder:"surname",onChangeText:g,style:Rt.formElement}),Object(O.jsx)(d.Input,{placeholder:"password",onChangeText:v,caption:null==z?void 0:z.password,status:null!=z&&z.password?"danger":"basic",accessoryRight:function(e){return Bt(e,E,k)},secureTextEntry:!k,style:Rt.formElement}),Object(O.jsx)(d.Input,{placeholder:"confirm password",onChangeText:T,caption:(null==z?void 0:z.confirmPassword)||(S&&S!==y?"Does not match with your password.":""),status:null!=z&&z.confirmPassword||S&&S!==y?"danger":"basic",accessoryRight:function(e){return Bt(e,E,k)},secureTextEntry:!k,style:Rt.formElement}),Object(O.jsx)(d.CheckBox,{checked:B,onChange:F,status:null!=z&&z.agreedTerms&&!B?"danger":"primary",style:Rt.agreedSpacing,children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.Text,{style:Rt.agreedTextSpacing,children:"I read and agree to the"}),Object(O.jsx)(d.Text,{onPress:function(){return Te.a.openURL("https://portion-mate.readthedocs.io/en/latest/Terms/")},children:"Terms & Conditions"})]})}),Object(O.jsx)(d.Button,{onPress:function(){return B&&y&&S===y?n(a,y,l,h).catch(N):N({agreedTerms:"This field is required",email:"This field is required",password:"This field is required",confirmPassword:"This field is required"})},style:Rt.formElement,children:"register"}),Object(O.jsx)(Ft,{navigation:t,page:"Login"})]})}var An=Object(ce.a)();function zn(){return Object(O.jsxs)(An.Navigator,{initialRouteName:"Login",children:[Object(O.jsx)(An.Screen,{name:"Login",component:Fn,options:{headerShown:!1}}),Object(O.jsx)(An.Screen,{name:"Register",component:Rn,options:{headerShown:!1}})]})}var Nn=Object(ce.a)();function Hn(){return Object(O.jsx)(se.a,{style:Mn.flex1,children:Object(O.jsxs)(d.Layout,{style:[Mn.flex1,Mn.alignItemsCenter,Mn.justifyContentCenter,Mn.padding2],children:[Object(O.jsx)(d.Spinner,{size:"giant"}),Object(O.jsx)(d.Text,{style:Mn.title,children:"Loading..."})]})})}function Vn(){var e=re(),t=e.authToken,n=e.loading;return Object(O.jsx)(Nn.Navigator,{children:n?Object(O.jsx)(Nn.Screen,{name:"Loading",component:Hn,options:{headerShown:!1}}):null!=t&&t.access_token?Object(O.jsx)(Nn.Screen,{name:"BottomTab",component:kn,options:{headerShown:!1}}):Object(O.jsx)(Nn.Screen,{name:"Auth",component:zn,options:{headerShown:!1}})})}var Mn=me({title:{fontSize:20,fontWeight:"bold"}}),_n=Object(ce.a)();function Jn(){return Object(O.jsxs)(_n.Navigator,{children:[Object(O.jsx)(_n.Screen,{name:"Root",component:Vn,options:{headerShown:!1}}),Object(O.jsx)(_n.Screen,{name:"NotFound",component:ye,options:{headerShown:!1}}),Object(O.jsx)(_n.Group,{screenOptions:{presentation:"modal",headerShown:!1},children:Object(O.jsx)(_n.Screen,{name:"Modal",component:Le})})]})}function Wn(){return Object(O.jsx)(ne,{children:Object(O.jsx)(A.a,{linking:ae,children:Object(O.jsx)(Jn,{})})})}var Gn=n(268),Un=n(269);function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(r.a)((function(){var e=function(){var e=p.a.useState(!1),t=s()(e,2),r=t[0],o=t[1];return p.a.useEffect((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(B.b)(),e.next=4,u.a.awrap(Object(L.b)(R(R({},I.a.font),{},{"space-mono":n(385)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),Object(B.a)(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=p.a.useState("light"),r=s()(t,2),o=r[0],a=r[1],c="light"===o;p.a.useEffect((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(D("theme","light"));case 2:e=t.sent,a(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}()}),[a]);var i=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a(e=c?"dark":"light"),t.next=4,u.a.awrap(T("theme",e));case 4:case"end":return t.stop()}}),null,null,null,Promise)},l=function(e){return Object(O.jsx)(d.Icon,Yn({name:c?"brightness-2":"brightness-7"},e),"themeToggle")};return e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.IconRegistry,{icons:y}),Object(O.jsx)(w.Provider,{value:{theme:o,setTheme:a,switchTheme:i,ThemeToggle:function(e){return Object(O.jsx)(d.Button,Yn({appearance:"ghost",status:"basic",accessoryLeft:l,onPress:i},e))}},children:Object(O.jsx)(d.ApplicationProvider,{mapping:f.mapping,customMapping:Un,theme:Yn(Yn({},c?f.light:f.dark),Gn),children:Object(O.jsx)(Wn,{})})})]}):null}))}},[[276,1,2]]]);
//# sourceMappingURL=app.1760863f.chunk.js.map