{"version":3,"sources":["app/assets/fonts/SpaceMono-Regular.ttf","app/components/AppIcons.tsx","app/contexts/ThemeContext.tsx","app/api/store.ts","env/index.ts","app/api/index.ts","app/api/auth.ts","app/api/user.ts","app/contexts/AppContext.tsx","app/navigation/LinkingConfiguration.ts","app/constants/Styles/display.ts","app/constants/Styles/flex.ts","app/constants/Styles/spacing.ts","app/constants/Styles/index.ts","app/screens/NotFoundScreen.tsx","app/components/StyledText.tsx","app/components/EditScreenInfo.tsx","app/screens/ModalScreen.tsx","app/api/items.ts","app/api/logs.ts","app/constants/helpers.tsx","app/screens/BottomTab/HomePage.tsx","app/api/journals.ts","app/screens/BottomTab/JournalPage.tsx","app/constants/Display.ts","app/screens/BottomTab/StatsPage.tsx","app/api/resources.ts","app/screens/BottomTab/ResourcesPage.tsx","app/screens/Auth/FormStyle.tsx","app/screens/BottomTab/SettingsPage.tsx","app/components/FAB/ActionItem.tsx","app/components/FAB/MainButton.tsx","app/components/FAB/index.ts","app/screens/Action/utils.tsx","app/screens/Action/AddItem.tsx","app/screens/Action/AddJournal.tsx","app/navigation/ActionNavigator.tsx","app/navigation/BottomTabNavigator.tsx","app/screens/Auth/Logo.tsx","app/screens/Auth/AuthForm.tsx","app/screens/Auth/LoginForm.tsx","app/screens/Auth/RegisterForm.tsx","app/navigation/AuthNavigator.tsx","app/navigation/RootNavigator.tsx","app/navigation/StackNavigator.tsx","app/navigation/index.tsx","webpack:///./index.js?41f5","App.tsx","app/hooks/useCachedResources.ts"],"names":["module","exports","MaterialIconsPack","name","icons","Proxy","get","_target","IconProvider","toReactElement","props","iconProps","style","StyleSheet","flatten","height","tintColor","iconStyle","MaterialIcons","size","color","MaterialIcon","ThemeContext","React","createContext","theme","setTheme","switchTheme","ThemeToggle","useThemeContext","context","useContext","Error","storeData","key","value","a","async","AsyncStorage","setItem","storeObject","jsonValue","JSON","stringify","getData","_default","getItem","getObject","parse","removeItem","API_BASE","CLIENT_ID","CLIENT_SECRET","axiosInstance","axios","create","baseURL","path","response","data","results","createData","post","updateData","method","id","url","request","makeRequest","undefined","isAxiosError","updateAuthHeaderAndStore","token","defaults","headers","common","Authorization","access_token","addRefreshInterceptor","callback","interceptors","use","error","config","status","retry","refreshToken","then","getToken","username","password","interceptorCallback","API_PATH","grant_type","client_id","client_secret","interceptor","authToken","refresh_token","revokeToken","eject","getUser","createUser","updateUser","AppContext","loading","helpers","ContextProvider","children","useState","setAuthToken","items","setItems","journals","setJournals","user","setUser","headerAction","setHeaderAction","setLoading","useEffect","authData","signOut","userData","loadToken","signIn","email","Provider","signUp","forename","surname","useAppContext","linking","prefixes","makeUrl","screens","Root","BottomTab","Home","Journal","Stats","Resources","Settings","Action","Item","Auth","Login","Register","Loading","Modal","NotFound","displayStyles","forEach","display","toLowerCase","flexStyles","num","flex","direction","flexDirection","ALIGNMENTS","Content","Items","Self","alignType","alignment","justifyType","justifyContent","SPACINGS","DIRECTIONS","spacingStyles","spacing","PROVIDED_STYLES","createStyle","styles","NotFoundScreen","navigation","SafeAreaView","flex1","alignItemsCenter","justifyContentCenter","padding2","title","TouchableOpacity","onPress","replace","link","linkText","toggle","fontSize","fontWeight","marginTop","paddingVertical","position","bottom","right","MonoText","fontFamily","EditScreenInfo","View","getStartedContainer","getStartedText","codeHighlightContainer","homeScreenFilename","helpContainer","Linking","openURL","helpLink","helpLinkText","alignItems","marginHorizontal","marginVertical","borderRadius","paddingHorizontal","lineHeight","textAlign","ModalScreen","separator","StatusBar","Platform","OS","width","createTrackItem","updateTrackItem","deleteTrackItem","createUserLog","timestamp","Date","toISOString","deleteUserLog","renderIcon","frequencyDisplay","1","7","30","365","HomePage","isAction","length","updateItemLogs","action","item","itemIdx","indexOf","newItem","newItems","log","logs","push","pop","filter","l","updateItemSettings","updateTarget","target","newTarget","i","itemCheckBoxes","Array","from","Math","max","_e","idx","checkbox","checked","onChange","itemCheckBox","renderItem","info","description","appearance","accessoryLeft","p","disabled","flexWrap","renderItemDescription","accessoryRight","frequency","renderItemAccessory","marginRight","createJournal","entry_time","deleteJournal","TODAY","noJournalTitle","itemDate","selectedJournalContainer","padding","Dimensions","window","isSmallDevice","CHART_CONFIG","backgroundColor","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","opacity","labelColor","propsForDots","r","strokeWidth","stroke","propsForLabels","todayDate","slice","tomorrowDate","setDate","getDate","TOMORROW","INTERVAL_TIMES","lineChart","getResources","bookmarkResource","contentContainer","contentImage","maxWidth","margin","noResourceTitle","itemFooter","formStyle","formElement","themeToggleStyle","viewPassword","minHeight","minWidth","loginButton","agreedSpacing","agreedTextSpacing","passwordAccessory","setter","pwAccessoryIcon","SwitchForm","page","navigate","Setting","hint","hintProps","pressableProps","Pressable","padding1","flexDirectionRow","category","SettingSection","alignContentCenter","marginTop2","marginBottom4","marginHorizontal1","cardMargin","alertBackdrop","noSettingsTitle","ActionItem","text","icon","shadow","animated","buttonSize","textStyle","textColor","textProps","textElevation","textBackground","textContainerStyle","paddingTopBottom","animation","useRef","Animated","Value","current","container","flexDirectionColumn","paddingLeft0","paddingRight0","marginBottom","interpolate","inputRange","outputRange","paddingTop","paddingBottom","textContainer","elevation","shadowOffset","button","leftTextContainer","marginLeft","centerTextContainer","rightTextContainer","DEFAULT_SHADOW_PROPS","shadowOpacity","shadowColor","shadowRadius","actions","zIndex","rightActions","leftActions","left","centerActions","rightActionsVisible","leftActionsVisible","centerActionsVisible","overlay","top","buttonContainer","overflow","rightButton","leftButton","centerButton","iconHorizontalContainer","iconVerticalContainer","FAB","Props","visible","iconHeight","iconWidth","iconColor","floatingIcon","overlayColor","showBackground","distanceToEdge","mainVerticalDistance","actionsPaddingTopBottom","onPressMain","onPressAction","active","setActive","distanceToVerticalEdge","vertical","distanceToHorizontalEdge","horizontal","sizeStyle","shadowOptions","actionsAnimation","visibleAnimation","fadeAnimation","mainBottomAnimation","actionsBottomAnimation","resetButton","spring","toValue","useNativeDriver","start","animateButton","Keyboard","dismiss","LayoutAnimation","configureNext","duration","type","Types","easeInEaseOut","property","Properties","pressAction","pointerEvents","map","transform","rotate","scale","accessible","accessibilityLabel","renderCancelAccessory","goBack","ActionButton","FREQUENCY_OPTIONS","DAILY","WEEKLY","MONTHLY","AddItem","setName","setTarget","IndexPath","selectedFrequency","setSelectedFrequency","setError","frequencies","Object","keys","KeyboardAvoidingView","formInnerContainer","placeholder","onChangeText","caption","t","val","parseInt","match","join","strToNum","row","selectedIndex","onSelect","index","createItem","yesterdayDate","YESTERDAY","AddJournal","meal","setMeal","time","setTime","content","setContent","formContainer","mealName","recommendedMeal","toDateString","toLocaleTimeString","timeInput","multiline","journalEntryText","journalEntry","newJournal","logEntry","createNativeStackNavigator","createBottomTabNavigator","headerButtonIcons","tabs","component","fetched","setFetched","selectedJournal","setSelectedJournal","date","removeJournal","newJournals","journal","D","toLocaleDateString","prevDay","nextDay","ScrollView","marginTop4","substring","Display","setFrequency","count","random","toString","legendFontColor","legendFontSize","legendFontFamily","chartConfig","paddingLeft","accessor","labels","datasets","trackItems","filteredLogs","itemLogs","sumArray","renderLineData","bezier","resources","setResources","selectedResource","setSelectedResource","fetchItems","getItems","bookmarkAction","resource","resourceIdx","newResource","newResources","bookmarked","subtitle","author","date_published","body","image","footer","renderItemFooter","setForename","setSurname","age","setAge","setHeight","weight","setWeight","numInfoMap","oldPassword","setOldPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordVisibility","setPasswordVisibility","passwordMap","warnModalVisibility","setWarnModalVisibility","resetFields","updateProfile","newUser","picture","old_password","catch","source","uri","alignSelfCenter","marginBottom1","pMap","secureTextEntry","backdropStyle","onBackdropPress","header","hideTab","Navigator","initialRouteName","Screen","options","headerShown","BottomTabNavigator","route","modalVisible","setModalVisible","navigationLeftAccessory","Image","appIcon","cardIcons","userAvatar","userOptionsToggle","navigationRightAccessory","navRightAccessoryActionIcon","anchor","backdropBackground","tabBar","state","routeNames","tab","navTabIcon","screenOptions","tabBarLabelPosition","screen","getFocusedRouteNameFromRoute","Logo","appLogo","AuthForm","formProps","paddingHorizontal1","marginVertical1","error_description","LoginForm","setEmail","setPassword","passwordVisible","setPasswordVisible","RegisterForm","agreedTerms","setAgreedTerms","AuthNavigator","LoadingScreen","RootNavigator","Stack","StackNavigator","Group","presentation","Navigation","NavigationContainer","LinkingConfiguration","registerRootComponent","isLoadingComplete","setLoadingComplete","preventAutoHideAsync","loadAsync","FontAwesome","font","require","console","warn","hideAsync","useCachedResources","isLightTheme","themeData","getSetTheme","newTheme","toggleIcon","mapping","customMapping","light","dark","colors"],"mappings":"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","file":"static/js/app.28d18547.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"./fonts/SpaceMono-Regular.ttf\";","import React from 'react';\nimport { StyleSheet } from 'react-native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { StyleType } from '@ui-kitten/components';\nimport { IconOptions } from '../types';\n\nexport const MaterialIconsPack = {\n  name: 'material',\n  icons: createIconsMap(),\n};\n\nfunction createIconsMap() {\n  return new Proxy(\n    {},\n    {\n      get(_target: any, name: IconOptions) {\n        return IconProvider(name);\n      },\n    }\n  );\n}\n\nconst IconProvider = (name: IconOptions) => ({\n  toReactElement: (props: any) => MaterialIcon({ name, ...props }),\n});\n\ntype IconProps = {\n  name: IconOptions;\n  style: StyleType;\n};\n\nfunction MaterialIcon(iconProps: IconProps) {\n  const { name, style } = iconProps;\n  const { height, tintColor, ...iconStyle } = StyleSheet.flatten(style);\n  return (\n    <MaterialIcons\n      name={name}\n      size={height}\n      color={tintColor}\n      style={iconStyle}\n    />\n  );\n}\n","import React from 'react';\nimport { Button, ButtonProps } from '@ui-kitten/components';\nimport { ColorScheme } from '../types';\n\ntype ThemeContextType = {\n  theme: ColorScheme;\n  setTheme: React.Dispatch<React.SetStateAction<ColorScheme>>;\n  switchTheme: Function;\n  ThemeToggle: (props: ButtonProps | undefined) => JSX.Element;\n};\n\nexport const ThemeContext = React.createContext<ThemeContextType>({\n  theme: 'light',\n  setTheme: () => {},\n  switchTheme: () => {},\n  ThemeToggle: () => <Button />,\n});\n\nconst useThemeContext = () => {\n  const context = React.useContext(ThemeContext);\n\n  if (!context) {\n    throw new Error(\n      'useThemeContext must be used within an ThemeContext.Provider'\n    );\n  }\n\n  return context;\n};\n\nexport default useThemeContext;\n","import AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport const storeData = async (key: string, value: any) => {\n  try {\n    return await AsyncStorage.setItem(`@${key}`, value);\n  } catch (e) {\n    // saving error\n    throw e;\n  }\n};\n\nexport const storeObject = async (key: string, value: object) => {\n  try {\n    const jsonValue = JSON.stringify(value);\n    return await AsyncStorage.setItem(`@${key}`, jsonValue);\n  } catch (e) {\n    // saving error\n    throw e;\n  }\n};\n\nexport const getData = async (key: string, _default?: string) => {\n  try {\n    const value = await AsyncStorage.getItem(`@${key}`);\n    return value !== null ? value : _default;\n  } catch (e) {\n    // error reading value\n    throw e;\n  }\n};\n\nexport const getObject = async <T>(key: string): Promise<T> => {\n  try {\n    const jsonValue = await AsyncStorage.getItem(`@${key}`);\n    return jsonValue !== null ? JSON.parse(jsonValue) : null;\n  } catch (e) {\n    // error reading value\n    throw e;\n  }\n};\n\nexport const removeItem = async (key: string) => {\n  try {\n    return await AsyncStorage.removeItem(`@${key}`);\n  } catch (e) {\n    // error removing value\n    throw e;\n  }\n};\n","export const {DEBUG, SECRET_KEY, ADMINS, ALLOWED_HOSTS, API_BASE, CLIENT_ID, CLIENT_SECRET} = {\"DEBUG\":\"False\",\"SECRET_KEY\":\"cobbvj6b0()3s^7=b1j)fe1fm^gs+nbh8yyclghu%=)ib8l\",\"ADMINS\":\"Inesh Bose <2504266b@student.gla.ac.uk>,\",\"ALLOWED_HOSTS\":\"ineshbose.github.io,inesh.xyz,portion-mate.herokuapp.com,\",\"API_BASE\":\"http://portion-mate.herokuapp.com/api\",\"CLIENT_ID\":\"9wNj6u3MMA9ZS12hv3v9AQAJHsXcAljTw0D5eZPN\",\"CLIENT_SECRET\":\"blppvQ6gQI1VygroEltrLMUyA86fwvLiMrUdsFj8FYDXELC5pArXXw2wWvIFmEGMgVywuxQaGaOsCppcBLXvbyeJzCe8guVRzvIcRZJQcUbaYf07GRj0vYdSgb3wjOoB\"};","import axios, { Method } from 'axios';\nimport { API_BASE } from '../../env';\nimport { CreateData, FetchData, GenericModel, UpdateData } from '../types/api';\n\ntype UnrequiredGM = Partial<GenericModel>;\ntype Methods = Extract<Uppercase<Method>, 'GET' | 'POST' | 'PATCH' | 'DELETE'>;\ntype ReturnAPI<\n  T extends UnrequiredGM = GenericModel,\n  M extends Methods = 'GET'\n> = M extends 'GET' ? T[] : M extends 'POST' | 'PATCH' ? T : never;\ntype RequiredAPI<\n  T extends GenericModel = GenericModel,\n  M extends Methods = 'GET'\n> = M extends 'GET'\n  ? undefined\n  : M extends 'PATCH' | 'DELETE'\n  ? UpdateData<T>\n  : CreateData<T>;\n\nexport const axiosInstance = axios.create({\n  baseURL: API_BASE,\n});\n\nexport async function getData<T extends GenericModel = GenericModel>(\n  path: string\n) {\n  const response = await axiosInstance.get<FetchData<T>>(path);\n  return 'results' in response.data ? response.data.results : response.data;\n}\n\nexport async function createData<T extends GenericModel = GenericModel>(\n  path: string,\n  data: CreateData<T>\n) {\n  const response = await axiosInstance.post<T>(path, data);\n  return response.data;\n}\n\nexport async function updateData<T extends GenericModel = GenericModel>(\n  path: string,\n  method: Extract<Methods, 'PATCH' | 'DELETE'>,\n  data: UpdateData<T>\n) {\n  const { id } = data;\n  const url = `${path}${id}/`;\n  const response = await axiosInstance.request<T>({\n    method,\n    url,\n    data,\n  });\n  return response.data;\n}\n\n// export async function makeRequest<T extends GenericModel = GenericModel>(\n//   path: string,\n//   method: 'GET'\n// ): Promise<T[]>;\n// export async function makeRequest<T extends GenericModel = GenericModel>(\n//   path: string,\n//   method: 'POST',\n//   data: CreateData<T>\n// ): Promise<T>;\n// export async function makeRequest<T extends GenericModel = GenericModel>(\n//   path: string,\n//   method: 'PATCH' | 'DELETE',\n//   data: UpdateData<T>\n// ): Promise<T>;\nexport async function makeRequest<\n  T extends GenericModel = GenericModel,\n  M extends Methods = 'GET'\n>(\n  path: string,\n  method: M = <M>'GET',\n  data: RequiredAPI<T, M> | any = undefined\n): Promise<ReturnAPI<T, M>> {\n  try {\n    if (method === 'PATCH' || method === 'DELETE') {\n      return (await updateData<T>(\n        path,\n        method,\n        data as UpdateData<T>\n      )) as ReturnAPI<T, M>;\n    } else if (method === 'POST') {\n      // eslint-disable-next-line prettier/prettier\n      return (await createData<T>(path, data as CreateData<T>)) as ReturnAPI<T, M>;\n    } else {\n      return (await getData<T>(path)) as ReturnAPI<T, M>;\n    }\n  } catch (e) {\n    throw axios.isAxiosError(e) ? e.response?.data : e;\n  }\n}\n","import axios, { AxiosError, AxiosRequestConfig } from 'axios';\nimport { CLIENT_ID, CLIENT_SECRET } from '../../env';\nimport { AuthError, AuthToken } from '../types/api';\nimport { storeObject, getObject, removeItem } from './store';\nimport { axiosInstance } from '.';\n\nconst API_PATH = '/auth/o/';\n\nexport const updateAuthHeaderAndStore = async (token: AuthToken) => {\n  axiosInstance.defaults.headers.common.Authorization = `Bearer ${token.access_token}`;\n  await storeObject('auth_token', token);\n  return token;\n};\n\nexport const addRefreshInterceptor = (callback?: Function) => {\n  return axiosInstance.interceptors.response.use(\n    function (response: AxiosRequestConfig<any>) {\n      return response;\n    },\n    function (error: AxiosError | Error) {\n      if (axios.isAxiosError(error) && error.config.headers) {\n        if (error.request.status === 401) {\n          if (!error.config.headers.retry) {\n            error.config.headers.retry = 'true';\n            return refreshToken().then(() => axiosInstance(error.config));\n          } else {\n            if (callback) {\n              return callback();\n            }\n          }\n        }\n      }\n      throw error;\n    }\n  );\n};\n\nexport const getToken = async (\n  username: string,\n  password: string,\n  interceptorCallback?: Function\n) => {\n  try {\n    const response = await axiosInstance.post<AuthToken>(`${API_PATH}token/`, {\n      username,\n      password,\n      grant_type: 'password',\n      client_id: CLIENT_ID,\n      client_secret: CLIENT_SECRET,\n    });\n\n    response.data.interceptor = addRefreshInterceptor(interceptorCallback);\n    return await updateAuthHeaderAndStore(response.data);\n  } catch (e) {\n    throw axios.isAxiosError(e) ? (e.response?.data as AuthError) : e;\n  }\n};\n\nexport const refreshToken = async (authToken?: AuthToken) => {\n  try {\n    if (!authToken) {\n      authToken = await getObject<AuthToken>('auth_token');\n    }\n\n    const response = await axiosInstance.post<AuthToken>(`${API_PATH}token/`, {\n      refresh_token: authToken.refresh_token,\n      grant_type: 'refresh_token',\n      client_id: CLIENT_ID,\n      client_secret: CLIENT_SECRET,\n    });\n\n    response.data.interceptor = authToken.interceptor;\n    return await updateAuthHeaderAndStore(response.data);\n  } catch (e) {\n    if (axios.isAxiosError(e) && e.response?.status === 400) {\n      revokeToken(authToken);\n    }\n    throw axios.isAxiosError(e) ? (e.response?.data as AuthError) : e;\n  }\n};\n\nexport const revokeToken = async (authToken?: AuthToken) => {\n  try {\n    if (!authToken) {\n      authToken = await getObject<AuthToken>('auth_token');\n    }\n\n    await axiosInstance.post<AuthToken>(`${API_PATH}revoke_token/`, {\n      token: authToken.access_token,\n      client_id: CLIENT_ID,\n      client_secret: CLIENT_SECRET,\n    });\n\n    axiosInstance.defaults.headers.common.Authorization = '';\n    if (authToken.interceptor) {\n      axiosInstance.interceptors.response.eject(authToken.interceptor);\n    }\n\n    await removeItem('auth_token');\n  } catch (e) {\n    throw axios.isAxiosError(e) ? (e.response?.data as AuthError) : e;\n  }\n};\n","import { CreateData, UpdateData, User } from '../types/api';\nimport { makeRequest } from '.';\n\nconst API_PATH = '/users/';\n// const API_PATH = (extraPath: TemplateStringsArray) => `/users/${extraPath}/`;\n\nexport const getUser = async () => <User>(<unknown>makeRequest<User>(API_PATH));\n\nexport const createUser = async (\n  props: CreateData<User, 'email'> & { password: string }\n) => makeRequest(API_PATH, 'POST', props);\n\nexport const updateUser = async (\n  props: UpdateData<User> & { password?: string; old_password?: string }\n) => makeRequest(API_PATH, 'PATCH', props);\n\nexport const deleteUser = async (props: UpdateData<User>) =>\n  makeRequest(API_PATH, 'DELETE', props);\n","import React from 'react';\nimport {\n  addRefreshInterceptor,\n  getToken,\n  revokeToken,\n  updateAuthHeaderAndStore,\n} from '../api/auth';\nimport { getObject } from '../api/store';\nimport { createUser, getUser } from '../api/user';\nimport { ChildComponents } from '../types';\nimport { AuthToken, Journals, TrackItems, User } from '../types/api';\nimport { RootTabParamList, RouteNames } from '../types/navigation';\n\ntype AppContextType = {\n  authToken?: AuthToken;\n  user?: User;\n  items?: TrackItems;\n  journals?: Journals;\n  loading: boolean;\n  headerAction?: RouteNames<RootTabParamList>;\n  helpers: { [name: string]: Function };\n};\n\nconst AppContext = React.createContext<AppContextType>({\n  loading: false,\n  helpers: {},\n});\n\nexport const ContextProvider = ({ children }: ChildComponents) => {\n  const [authToken, setAuthToken] = React.useState<AuthToken>();\n  const [items, setItems] = React.useState<TrackItems>([]);\n  const [journals, setJournals] = React.useState<Journals>([]);\n  const [user, setUser] = React.useState<User>();\n  const [headerAction, setHeaderAction] =\n    React.useState<RouteNames<RootTabParamList>>();\n  const [loading, setLoading] = React.useState<boolean>(true);\n\n  React.useEffect(() => {\n    const loadToken = async () => {\n      try {\n        const authData = await getObject<AuthToken>('auth_token');\n        if (authData) {\n          authData.interceptor = addRefreshInterceptor(signOut);\n          await updateAuthHeaderAndStore(authData);\n          const userData = await getUser();\n          setUser(userData);\n        }\n        setAuthToken(authData);\n      } catch (e) {\n        // handle error\n        throw e;\n      }\n    };\n\n    loadToken().then(() => setLoading(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      const authData = await getToken(email, password, signOut);\n      const userData = await getUser();\n      setUser(userData);\n      setAuthToken(authData);\n    } catch (e) {\n      // handle error\n      throw e;\n    }\n  };\n\n  const signUp = async (\n    email: string,\n    password: string,\n    forename?: string,\n    surname?: string\n  ) => {\n    try {\n      await createUser({ email, password, forename, surname });\n      await signIn(email, password);\n    } catch (e) {\n      // handle error\n      throw e;\n    }\n  };\n\n  const signOut = async () => {\n    await revokeToken(authToken);\n    setItems([]);\n    setUser(undefined);\n    setAuthToken(undefined);\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        authToken,\n        user,\n        items,\n        journals,\n        headerAction,\n        loading,\n        helpers: {\n          signIn,\n          signUp,\n          signOut,\n          setUser,\n          setItems,\n          setJournals,\n          setHeaderAction,\n        },\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nconst useAppContext = () => {\n  const context = React.useContext(AppContext);\n\n  if (!context) {\n    throw new Error('useAppContext must be used within an ContextProvider');\n  }\n\n  return context;\n};\n\nexport default useAppContext;\n","/**\n * Learn more about deep linking with React Navigation\n * https://reactnavigation.org/docs/deep-linking\n * https://reactnavigation.org/docs/configuring-links\n */\n\nimport { LinkingOptions } from '@react-navigation/native';\nimport { makeUrl } from 'expo-linking';\n\nimport { RootStackParamList } from '../types/navigation';\n\nconst linking: LinkingOptions<RootStackParamList> = {\n  prefixes: [makeUrl('/')],\n  config: {\n    screens: {\n      Root: {\n        screens: {\n          BottomTab: {\n            screens: {\n              Home: {},\n              Journal: 'journal',\n              Stats: 'stats',\n              Resources: 'resources',\n              Settings: 'settings',\n              Action: {\n                path: 'add',\n                screens: {\n                  Item: 'item',\n                  Journal: 'journal',\n                },\n              },\n            },\n          },\n          Auth: {\n            screens: {\n              Login: 'login',\n              Register: 'register',\n            },\n          },\n          Loading: {},\n        },\n      },\n      Modal: 'modal',\n      NotFound: '*',\n    },\n  },\n};\n\nexport default linking;\n","import { DisplayType } from '../../types/styles';\n\nconst DISPLAYS: DisplayType['options'][] = ['None', 'Flex'];\n\nconst displayStyles = <DisplayType['styles']>{};\n\nDISPLAYS.forEach((display) => {\n  displayStyles[`display${display}`] = {\n    display: <Lowercase<typeof display>>display.toLowerCase(),\n  };\n});\n\nexport default displayStyles;\n","import {\n  AlignType,\n  AlignTypes,\n  FlexDirectionType,\n  FlexStyles,\n  JustifyContentType,\n  StyleNumValues,\n} from '../../types/styles';\n\nconst flexStyles = <FlexStyles>{};\n\nconst NUMS: StyleNumValues[] = [0, 1, 2, 3, 4, 5];\n\nNUMS.forEach((num) => {\n  flexStyles[`flex${num}`] = {\n    flex: num,\n  };\n});\n\nconst DIRECTIONS: FlexDirectionType['options'][] = [\n  'Row',\n  'Column',\n  'Column-reverse',\n  'Row-reverse',\n];\n\nDIRECTIONS.forEach((direction) => {\n  flexStyles[`flexDirection${direction}`] = {\n    flexDirection: <Lowercase<typeof direction>>direction.toLowerCase(),\n  };\n});\n\ntype OptionMap = { [K in AlignTypes]: AlignType[Lowercase<K>]['options'][] };\n\nconst ALIGNMENTS: OptionMap = {\n  Content: [\n    'Center',\n    'Flex-end',\n    'Flex-start',\n    'Space-around',\n    'Space-between',\n    'Stretch',\n  ],\n  Items: ['Baseline', 'Center', 'Flex-end', 'Flex-start', 'Stretch'],\n  Self: ['Auto', 'Baseline', 'Center', 'Flex-end', 'Flex-start', 'Stretch'],\n};\n\nconst alignTypes: AlignTypes[] = ['Content', 'Items', 'Self'];\n\nalignTypes.forEach((alignType) =>\n  ALIGNMENTS[alignType].forEach((alignment) => {\n    // @ts-ignore\n    flexStyles[`align${alignType}${alignment}`] = {\n      [`align${alignType}`]: <Lowercase<typeof alignment>>(\n        alignment.toLowerCase()\n      ),\n    };\n  })\n);\n\nconst justifyTypes: JustifyContentType['options'][] = [\n  'Center',\n  'Flex-end',\n  'Flex-start',\n  'Space-around',\n  'Space-between',\n  'Space-evenly',\n];\n\njustifyTypes.forEach((justifyType) => {\n  flexStyles[`justifyContent${justifyType}`] = {\n    justifyContent: <Lowercase<typeof justifyType>>justifyType.toLowerCase(),\n  };\n});\n\nexport default flexStyles;\n","import {\n  SpacingDirections,\n  SpacingStyles,\n  SpacingTypes,\n  StyleNumValues,\n} from '../../types/styles';\n\nconst NUMS: StyleNumValues[] = [0, 1, 2, 3, 4, 5];\n\nconst SPACINGS: SpacingTypes[] = ['margin', 'padding'];\n\nconst DIRECTIONS: SpacingDirections[] = [\n  '',\n  'Horizontal',\n  'Vertical',\n  'Top',\n  'Bottom',\n  'Left',\n  'Right',\n];\n\nconst spacingStyles = <SpacingStyles>{};\n\nNUMS.forEach((num) =>\n  SPACINGS.forEach((spacing) =>\n    DIRECTIONS.forEach((direction) => {\n      spacingStyles[`${spacing}${direction}${num}`] = {\n        [`${spacing}${direction}`]: num * 16,\n      };\n    })\n  )\n);\n\nexport default spacingStyles;\n","import { StyleSheet } from 'react-native';\nimport { GlobalStyleSheet } from '../../types/styles';\nimport displayStyles from './display';\nimport flexStyles from './flex';\nimport spacingStyles from './spacing';\n\nconst PROVIDED_STYLES = <GlobalStyleSheet>{\n  ...spacingStyles,\n  ...displayStyles,\n  ...flexStyles,\n};\n\nexport default function createStyle<\n  T extends StyleSheet.NamedStyles<T> | StyleSheet.NamedStyles<any>\n>(styles: T | StyleSheet.NamedStyles<T>) {\n  return StyleSheet.create({ ...PROVIDED_STYLES, ...styles });\n}\n","import React from 'react';\nimport { SafeAreaView, TouchableOpacity } from 'react-native';\nimport { Layout, Text } from '@ui-kitten/components';\n\nimport { useThemeContext } from '../contexts';\nimport { RootStackScreenProps } from '../types/navigation';\nimport createStyle from '../constants/Styles';\n\nexport default function NotFoundScreen({\n  navigation,\n}: RootStackScreenProps<'NotFound'>) {\n  const { ThemeToggle } = useThemeContext();\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout\n        style={[\n          styles.flex1,\n          styles.alignItemsCenter,\n          styles.justifyContentCenter,\n          styles.padding2,\n        ]}\n      >\n        <Text style={styles.title}>{\"This screen doesn't exist.\"}</Text>\n        <TouchableOpacity\n          onPress={() => navigation.replace('Root')}\n          style={styles.link}\n        >\n          <Text style={styles.linkText}>Go to home screen!</Text>\n        </TouchableOpacity>\n      </Layout>\n      <ThemeToggle style={styles.toggle} />\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n  toggle: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n  },\n});\n","import React from 'react';\nimport { Text, TextProps } from '@ui-kitten/components';\n\nexport function MonoText(props: TextProps) {\n  return (\n    <Text {...props} style={[props.style, { fontFamily: 'space-mono' }]} />\n  );\n}\n","import React from 'react';\nimport { Linking, TouchableOpacity, View } from 'react-native';\nimport { Text } from '@ui-kitten/components';\nimport createStyle from '../constants/Styles';\nimport { MonoText } from './StyledText';\n\nexport default function EditScreenInfo({ path }: { path: string }) {\n  const openExpoGuide = () =>\n    Linking.openURL(\n      'https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet'\n    );\n\n  return (\n    <View>\n      <View style={styles.getStartedContainer}>\n        <Text style={styles.getStartedText}>\n          Open up the code for this screen:\n        </Text>\n\n        <View\n          style={[styles.codeHighlightContainer, styles.homeScreenFilename]}\n        >\n          <MonoText>{path}</MonoText>\n        </View>\n\n        <Text style={styles.getStartedText}>\n          Change any of the text, save the file, and your app will automatically\n          update.\n        </Text>\n      </View>\n\n      <View style={styles.helpContainer}>\n        <TouchableOpacity onPress={openExpoGuide} style={styles.helpLink}>\n          <Text style={styles.helpLinkText}>\n            {\n              \"Tap here if your app doesn't automatically update after making changes\"\n            }\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nconst styles = createStyle({\n  getStartedContainer: {\n    alignItems: 'center',\n    marginHorizontal: 50,\n  },\n  homeScreenFilename: {\n    marginVertical: 7,\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4,\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: 'center',\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n  helpLink: {\n    paddingVertical: 15,\n  },\n  helpLinkText: {\n    textAlign: 'center',\n  },\n});\n","import React from 'react';\nimport { Platform, SafeAreaView, View } from 'react-native';\nimport { Layout, Text } from '@ui-kitten/components';\nimport { StatusBar } from 'expo-status-bar';\n\nimport { useThemeContext } from '../contexts';\nimport EditScreenInfo from '../components/EditScreenInfo';\nimport createStyle from '../constants/Styles';\n\nexport default function ModalScreen() {\n  const { ThemeToggle } = useThemeContext();\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout\n        style={[\n          styles.flex1,\n          styles.alignItemsCenter,\n          styles.justifyContentCenter,\n        ]}\n      >\n        <Text style={styles.title}>Modal</Text>\n        <View style={styles.separator} />\n        <EditScreenInfo path=\"/screens/ModalScreen.tsx\" />\n\n        {/* Use a light status bar on iOS to account for the black space above the modal */}\n        <StatusBar style={Platform.OS === 'ios' ? 'light' : 'auto'} />\n      </Layout>\n      <ThemeToggle style={styles.toggle} />\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  },\n  toggle: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n  },\n});\n","import { CreateData, PortionItem, TrackItem, UpdateData } from '../types/api';\nimport { makeRequest } from '.';\n\nconst API_PATH = '/trackitem/';\n\nexport const getTrackItems = async () => makeRequest<TrackItem>(API_PATH);\n\nexport const createPortionItem = async (\n  props: CreateData<PortionItem, 'name'>\n) => makeRequest(API_PATH, 'POST', props);\n\nexport const createTrackItem = async (props: CreateData<TrackItem, 'item'>) =>\n  makeRequest(API_PATH, 'POST', props);\n\nexport const updateTrackItem = async (props: UpdateData<TrackItem>) =>\n  makeRequest(API_PATH, 'PATCH', props);\n\nexport const deleteTrackItem = async (props: UpdateData<TrackItem>) =>\n  makeRequest(API_PATH, 'DELETE', props);\n","import { CreateData, UpdateData, UserLog } from '../types/api';\nimport { makeRequest } from '.';\n\nconst API_PATH = '/userlogs/';\n\nexport const getUserLogs = async () => makeRequest<UserLog>(API_PATH);\n\nexport const createUserLog = async (props: CreateData<UserLog, 'item'>) =>\n  makeRequest(API_PATH, 'POST', {\n    ...props,\n    timestamp: new Date().toISOString(),\n  });\n\nexport const updateUserLog = async (props: UpdateData<UserLog>) =>\n  makeRequest(API_PATH, 'PATCH', props);\n\nexport const deleteUserLog = async (props: UpdateData<UserLog>) => {\n  makeRequest(API_PATH, 'DELETE', props);\n};\n","import React from 'react';\nimport { ImageProps } from 'react-native';\nimport { Icon } from '@ui-kitten/components';\nimport { IconOptions } from '../types';\nimport { GenericModel } from '../types/api';\n\nexport const renderIcon = (\n  props: Partial<ImageProps> | undefined,\n  name: IconOptions\n) => <Icon key={name} name={name} {...props} />;\n\nexport async function getItems<T extends GenericModel = GenericModel>(\n  {\n    fetched,\n    setFetched,\n  }: {\n    fetched: boolean;\n    setFetched: React.Dispatch<React.SetStateAction<boolean>>;\n  },\n  {\n    fetchItems,\n    setItems,\n  }: {\n    fetchItems: () => Promise<T[]>;\n    setItems: React.Dispatch<React.SetStateAction<T[]>>;\n  }\n) {\n  if (!fetched) {\n    setItems(await fetchItems());\n    setFetched(true);\n  }\n}\n","import React from 'react';\nimport {\n  ListRenderItemInfo,\n  SafeAreaView,\n  TextProps,\n  ViewProps,\n} from 'react-native';\nimport {\n  Button,\n  ButtonGroup,\n  CheckBox,\n  Layout,\n  List,\n  ListItem,\n  Text,\n} from '@ui-kitten/components';\nimport { useAppContext } from '../../contexts';\nimport {\n  deleteTrackItem,\n  getTrackItems,\n  updateTrackItem,\n} from '../../api/items';\nimport { createUserLog, deleteUserLog } from '../../api/logs';\nimport {\n  PortionItem,\n  TrackItem,\n  TrackItems,\n  UserLog,\n  UserLogs,\n} from '../../types/api';\nimport { renderIcon } from '../../constants/helpers';\nimport createStyle from '../../constants/Styles';\n\nconst frequencyDisplay: { [frequency: number]: string } = {\n  1: 'd',\n  7: 'w',\n  30: 'm',\n  365: 'y',\n};\n\nconst getFrequencyDisplay = (frequency: number) => {\n  return (\n    frequencyDisplay[frequency] ||\n    (frequency % 365 === 0\n      ? `${frequency / 365}${frequencyDisplay[365]}`\n      : frequency % 30 === 0\n      ? `${frequency / 30}${frequencyDisplay[30]}`\n      : frequency % 7 === 0\n      ? `${frequency / 7}${frequencyDisplay[7]}`\n      : `${frequency}d`)\n  );\n};\n\nexport default function HomePage() {\n  const {\n    items,\n    headerAction,\n    helpers: { setItems },\n  } = useAppContext();\n\n  const isAction = headerAction === 'Home';\n\n  React.useEffect(() => {\n    const getItems = async () => {\n      if (!(items && items.length > 0)) {\n        setItems((await getTrackItems()) as TrackItems);\n      }\n    };\n\n    getItems();\n  }, [items, setItems]);\n\n  const updateItemLogs = async (action: 'add' | 'remove', item: TrackItem) => {\n    const itemIdx = (items as TrackItems).indexOf(item);\n    const newItem = { ...item };\n    const newItems = [...(items as TrackItems)];\n\n    if (action === 'add') {\n      const log = (await createUserLog({\n        item: 'id' in item ? item.id : item,\n      })) as UserLog;\n      newItem.logs?.push(log);\n    } else {\n      const log = item.logs?.pop();\n      if (log) {\n        await deleteUserLog(log);\n        newItem.logs = newItem.logs?.filter((l) => l.id !== log.id);\n      }\n    }\n\n    newItems[itemIdx] = newItem;\n    setItems(newItems);\n  };\n\n  const updateItemSettings = async (\n    updateTarget: boolean,\n    action: 'add' | 'remove',\n    item: TrackItem\n  ) => {\n    const itemIdx = (items as TrackItems).indexOf(item);\n    const newItem = { ...item };\n    const newItems = [...(items as TrackItems)];\n\n    if (updateTarget) {\n      const { target } = item;\n      const newTarget = action === 'add' ? target + 1 : target - 1;\n\n      await updateTrackItem({ ...newItem, target: newTarget });\n      newItem.target = newTarget;\n    } else {\n      if (action === 'remove') {\n        await deleteTrackItem(item);\n        return setItems(newItems.filter((i) => i.id !== item.id));\n      } else {\n        // reordered\n      }\n    }\n\n    newItems[itemIdx] = newItem;\n    setItems(newItems);\n  };\n\n  const itemCheckBox = (item: TrackItem, idx: number) => (\n    <CheckBox\n      style={styles.checkbox}\n      key={idx}\n      checked={idx < (item.logs as UserLogs).length}\n      onChange={(checked) => updateItemLogs(checked ? 'add' : 'remove', item)}\n    />\n  );\n\n  const itemCheckBoxes = (item: TrackItem) =>\n    Array.from(\n      Array(\n        item.logs && item.logs.length > 0\n          ? Math.max(item.target, item.logs.length)\n          : item.target\n      ),\n      (_e, i) => itemCheckBox(item, i)\n    );\n\n  const renderItemDescription = (\n    props: TextProps | undefined,\n    item: TrackItem\n  ) =>\n    isAction ? (\n      <Text\n        {...props}\n        style={[\n          // eslint-disable-next-line react/prop-types\n          props?.style,\n          {\n            fontSize: 18,\n            fontWeight: 'bold',\n          },\n        ]}\n      >\n        {item.target}\n        <ButtonGroup appearance=\"ghost\">\n          <Button\n            accessoryLeft={(p) => renderIcon(p, 'add')}\n            onPress={() => updateItemSettings(true, 'add', item)}\n          />\n          <Button\n            accessoryLeft={(p) => renderIcon(p, 'remove')}\n            disabled={item.target < 1}\n            onPress={() => updateItemSettings(true, 'remove', item)}\n          />\n        </ButtonGroup>\n      </Text>\n    ) : (\n      <Layout\n        {...props}\n        // eslint-disable-next-line react/prop-types\n        style={[props?.style, { flexDirection: 'row', flexWrap: 'wrap' }]}\n      >\n        {itemCheckBoxes(item)}\n      </Layout>\n    );\n\n  const renderItemAccessory = (props: ViewProps | undefined, item: TrackItem) =>\n    isAction ? (\n      <ButtonGroup appearance=\"ghost\">\n        <Button\n          accessoryLeft={(p) => renderIcon(p, 'delete')}\n          onPress={() => updateItemSettings(false, 'remove', item)}\n        />\n        <Button\n          accessoryLeft={(p) => renderIcon(p, 'reorder')}\n          disabled\n          onPress={() => updateItemSettings(false, 'add', item)}\n        />\n      </ButtonGroup>\n    ) : (\n      <>\n        <Text>\n          {item.target}/{getFrequencyDisplay(item.frequency)}\n        </Text>\n        <ButtonGroup appearance=\"ghost\">\n          <Button\n            accessoryLeft={(p) => renderIcon(p, 'remove')}\n            disabled={(item.logs as UserLogs).length < 1}\n            onPress={() => updateItemLogs('remove', item)}\n          />\n          <Button\n            accessoryLeft={(p) => renderIcon(p, 'add')}\n            onPress={() => updateItemLogs('add', item)}\n          />\n        </ButtonGroup>\n      </>\n    );\n\n  const renderItem = (info: ListRenderItemInfo<TrackItem>) => (\n    <ListItem\n      title={(info.item.item as PortionItem).name}\n      description={(props) => renderItemDescription(props, info.item)}\n      accessoryRight={(props) => renderItemAccessory(props, info.item)}\n    />\n  );\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout style={styles.flex1}>\n        <List data={items} renderItem={renderItem} />\n      </Layout>\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  checkbox: {\n    marginRight: 2,\n  },\n});\n","import { CreateData, Journal, UpdateData } from '../types/api';\nimport { makeRequest } from '.';\n\nconst API_PATH = '/journals/';\n\nexport const getJournals = async () => makeRequest<Journal>(API_PATH);\n\nexport const createJournal = async (props: CreateData<Journal, 'meal'>) =>\n  makeRequest(API_PATH, 'POST', {\n    entry_time: new Date().toISOString(),\n    ...props,\n  });\n\nexport const updateJournal = async (props: UpdateData<Journal>) =>\n  makeRequest(API_PATH, 'PATCH', props);\n\nexport const deleteJournal = async (props: UpdateData<Journal>) =>\n  makeRequest(API_PATH, 'DELETE', props);\n","import React from 'react';\nimport {\n  ListRenderItemInfo,\n  SafeAreaView,\n  ScrollView,\n  View,\n} from 'react-native';\nimport {\n  Button,\n  Calendar,\n  Card,\n  Layout,\n  List,\n  Text,\n  TopNavigation,\n  TopNavigationAction,\n} from '@ui-kitten/components';\nimport { useAppContext } from '../../contexts';\nimport { deleteJournal, getJournals } from '../../api/journals';\nimport { Journal } from '../../types/api';\nimport { renderIcon } from '../../constants/helpers';\nimport createStyle from '../../constants/Styles';\n\nconst TODAY = new Date();\n\nexport default function JournalPage() {\n  const {\n    journals,\n    headerAction,\n    helpers: { setJournals, setHeaderAction },\n  } = useAppContext();\n  const isAction = headerAction === 'Journal';\n  const [fetched, setFetched] = React.useState<boolean>(false);\n  const [selectedJournal, setSelectedJournal] = React.useState<Journal>();\n  const [date, setDate] = React.useState<Date>(TODAY);\n\n  React.useEffect(() => {\n    const getItems = async () => {\n      if (!fetched) {\n        setJournals(await getJournals());\n        setFetched(true);\n      }\n    };\n\n    getItems();\n  }, [fetched, setJournals, setFetched]);\n\n  const removeJournal = async () => {\n    if (selectedJournal) {\n      const newJournals = journals?.filter(\n        (journal) => journal.id !== selectedJournal.id\n      );\n\n      await deleteJournal(selectedJournal);\n      setJournals(newJournals);\n    }\n\n    setSelectedJournal(undefined);\n  };\n\n  const renderItem = (info: ListRenderItemInfo<Journal>) => (\n    <Card style={styles.item} onPress={() => setSelectedJournal(info.item)}>\n      <View style={styles.flexDirectionRow}>\n        <Text style={styles.itemDate}>\n          {new Date(info.item.entry_time).toLocaleTimeString().slice(0, 5)}\n        </Text>\n        <Text category=\"h3\">{info.item.meal}</Text>\n      </View>\n      <Text>{`${info.item.content.substring(0, 82)}...`}</Text>\n    </Card>\n  );\n\n  const accessoryLeft = (props: {} | undefined) => {\n    const prevDay = new Date(date);\n    prevDay.setDate(prevDay.getDate() - 1);\n\n    return selectedJournal ? (\n      <TopNavigationAction\n        icon={(p) => renderIcon(p, 'arrow-back')}\n        onPress={() => setSelectedJournal(undefined)}\n        {...props}\n      />\n    ) : (\n      <Button\n        appearance=\"ghost\"\n        status=\"basic\"\n        accessoryLeft={(p) => renderIcon(p, 'arrow-back')}\n        onPress={() => setDate(prevDay)}\n      >\n        {prevDay.toLocaleDateString()}\n      </Button>\n    );\n  };\n\n  const accessoryRight = (props: {} | undefined) => {\n    const nextDay = new Date(date);\n    nextDay.setDate(date.getDate() + 1);\n\n    return selectedJournal ? (\n      <TopNavigationAction\n        icon={(p) => renderIcon(p, 'delete')}\n        onPress={removeJournal}\n        {...props}\n      />\n    ) : TODAY >= nextDay ? (\n      <Button\n        appearance=\"ghost\"\n        status=\"basic\"\n        accessoryRight={(p) => renderIcon(p, 'arrow-forward')}\n        onPress={() => setDate(nextDay)}\n      >\n        {nextDay.toLocaleDateString()}\n      </Button>\n    ) : (\n      <></>\n    );\n  };\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      {isAction ? (\n        <Layout\n          style={[\n            styles.flex1,\n            styles.alignItemsCenter,\n            styles.justifyContentCenter,\n          ]}\n        >\n          <Calendar\n            date={date}\n            max={TODAY}\n            onSelect={(D) => {\n              setDate(D);\n              setHeaderAction(undefined);\n            }}\n          />\n        </Layout>\n      ) : (\n        <Layout style={styles.flex1}>\n          <TopNavigation\n            alignment=\"center\"\n            title={\n              selectedJournal ? 'Journal Entry' : date.toLocaleDateString()\n            }\n            accessoryLeft={accessoryLeft}\n            accessoryRight={accessoryRight}\n          />\n          {selectedJournal ? (\n            <ScrollView style={styles.selectedJournalContainer}>\n              <View style={[styles.flexDirectionRow, styles.marginTop4]}>\n                <Text category=\"label\">Time</Text>\n                <Text style={styles.marginHorizontal1}>\n                  {new Date(selectedJournal.entry_time).toDateString()}\n                </Text>\n                <Text>\n                  {new Date(selectedJournal.entry_time).toLocaleTimeString()}\n                </Text>\n              </View>\n              <View style={styles.flexDirectionRow}>\n                <Text category=\"label\">Meal</Text>\n                <Text style={styles.marginHorizontal1}>\n                  {selectedJournal.meal}\n                </Text>\n              </View>\n              <Text style={styles.marginTop4}>{selectedJournal.content}</Text>\n            </ScrollView>\n          ) : journals && journals.length > 0 ? (\n            <List data={journals} renderItem={renderItem} />\n          ) : (\n            <Layout\n              style={[\n                styles.flex1,\n                styles.alignItemsCenter,\n                styles.justifyContentCenter,\n                styles.padding2,\n              ]}\n            >\n              <Text style={styles.noJournalTitle}>{'No journals added'}</Text>\n            </Layout>\n          )}\n        </Layout>\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  noJournalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  item: {\n    marginVertical: 8,\n  },\n  itemDate: {\n    fontSize: 30,\n    marginRight: 10,\n  },\n  selectedJournalContainer: {\n    padding: 10,\n  },\n});\n","import { Dimensions } from 'react-native';\n\nconst { width, height } = Dimensions.get('window');\n\nexport default {\n  window: {\n    width,\n    height,\n  },\n  isSmallDevice: width < 375,\n};\n","import React from 'react';\nimport { SafeAreaView, ScrollView } from 'react-native';\nimport { Calendar, Layout, Tab, TabBar } from '@ui-kitten/components';\nimport { LineChart, PieChart } from 'react-native-chart-kit';\nimport { AbstractChartConfig } from 'react-native-chart-kit/dist/AbstractChart';\nimport { useAppContext, useThemeContext } from '../../contexts';\nimport { PortionItem, TrackItem, TrackItems } from '../../types/api';\nimport Display from '../../constants/Display';\nimport createStyle from '../../constants/Styles';\n\nconst CHART_CONFIG: AbstractChartConfig = {\n  backgroundColor: '#e26a00',\n  backgroundGradientFrom: '#fb8c00',\n  backgroundGradientTo: '#ffa726',\n  decimalPlaces: 0,\n  color: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n  labelColor: (opacity = 1) => `rgba(255, 255, 255, ${opacity})`,\n  propsForDots: {\n    r: '6',\n    strokeWidth: '2',\n    stroke: '#ffa726',\n  },\n  propsForLabels: {\n    fontFamily: 'Roboto',\n  },\n};\n\nconst todayDate = new Date();\nconst TODAY = todayDate.toISOString().slice(0, 10);\n\nconst tomorrowDate = new Date();\ntomorrowDate.setDate(tomorrowDate.getDate() + 1);\nconst TOMORROW = tomorrowDate.toISOString().slice(0, 10);\n\nconst INTERVAL_TIMES = {\n  MORNING: new Date(`${TODAY}T05:00:00`),\n  AFTERNOON: new Date(`${TODAY}T12:00:00`),\n  EVENING: new Date(`${TODAY}T17:00:00`),\n  NIGHT: new Date(`${TODAY}T22:00:00`),\n  NEXT_MORNING: new Date(`${TOMORROW}T05:00:00`),\n};\n\nexport default function StatsPage() {\n  const { items, headerAction } = useAppContext();\n  const isAction = headerAction === 'Stats';\n  const { theme } = useThemeContext();\n  const {\n    window: { width },\n  } = Display;\n  const [frequency, setFrequency] = React.useState<number>(0);\n\n  const renderPieData = (item: TrackItem) => ({\n    name: (item.item as PortionItem).name,\n    count: item.logs?.length || 0,\n    color: `#${(((Math.random() + 2) * 16777216) | 0).toString(16).slice(1)}`,\n    legendFontColor: theme === 'light' ? '#00000' : '#ffffff',\n    legendFontSize: 15,\n    legendFontFamily: 'Roboto',\n  });\n\n  const renderLineData = (trackItems: TrackItems) => {\n    const filteredLogs = trackItems.map((item) => {\n      const itemLogs = (item.logs || []).map((log) => new Date(log.timestamp));\n      return [\n        itemLogs.filter(\n          (log) =>\n            log > INTERVAL_TIMES.MORNING && log < INTERVAL_TIMES.AFTERNOON\n        ).length,\n        itemLogs.filter(\n          (log) =>\n            log > INTERVAL_TIMES.AFTERNOON && log < INTERVAL_TIMES.EVENING\n        ).length,\n        itemLogs.filter(\n          (log) => log > INTERVAL_TIMES.EVENING && log < INTERVAL_TIMES.NIGHT\n        ).length,\n        itemLogs.filter(\n          (log) =>\n            log > INTERVAL_TIMES.NIGHT && log < INTERVAL_TIMES.NEXT_MORNING\n        ).length,\n      ];\n    });\n\n    const sumArray: number[] = [];\n    filteredLogs.forEach((logs) =>\n      logs.forEach((num, idx) => {\n        sumArray[idx] = (sumArray[idx] || 0) + num;\n      })\n    );\n\n    return sumArray;\n  };\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      {isAction ? (\n        <Layout\n          style={[\n            styles.flex1,\n            styles.alignItemsCenter,\n            styles.justifyContentCenter,\n          ]}\n        >\n          <Calendar max={todayDate} />\n        </Layout>\n      ) : (\n        <Layout style={styles.flex1}>\n          <TabBar selectedIndex={frequency} onSelect={setFrequency}>\n            <Tab title=\"DAILY\" />\n            <Tab title=\"WEEKLY\" disabled />\n            <Tab title=\"MONTHLY\" disabled />\n          </TabBar>\n          <ScrollView>\n            <PieChart\n              data={items ? items.map(renderPieData) : []}\n              width={width}\n              height={360}\n              chartConfig={CHART_CONFIG}\n              paddingLeft=\"15\"\n              backgroundColor=\"transparent\"\n              accessor=\"count\"\n            />\n            <LineChart\n              data={{\n                labels: ['Morning', 'Afternoon', 'Evening', 'Night'],\n                datasets: items ? [{ data: renderLineData(items) }] : [],\n              }}\n              width={width - 50}\n              height={360}\n              chartConfig={CHART_CONFIG}\n              bezier\n              style={styles.lineChart}\n            />\n          </ScrollView>\n        </Layout>\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  lineChart: {\n    borderRadius: 15,\n    marginTop: 50,\n    marginHorizontal: 20,\n  },\n});\n","import { Resource, UpdateData } from '../types/api';\nimport { axiosInstance, makeRequest } from '.';\n\nconst API_PATH = '/resources/';\n\nexport const getResources = async () => makeRequest<Resource>(API_PATH);\n\nexport const bookmarkResource = async (props: UpdateData<Resource>) => {\n  const { id } = props;\n  const response = await axiosInstance.post<null>(`${API_PATH}${id}/bookmark/`);\n  return response.data;\n};\n","import React from 'react';\nimport {\n  Linking,\n  ListRenderItemInfo,\n  SafeAreaView,\n  ScrollView,\n  View,\n  ViewProps,\n} from 'react-native';\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  Layout,\n  List,\n  Text,\n  TopNavigation,\n  TopNavigationAction,\n} from '@ui-kitten/components';\nimport Markdown from 'react-native-markdown-display';\nimport { useAppContext } from '../../contexts';\nimport { bookmarkResource, getResources } from '../../api/resources';\nimport { Resource, Resources } from '../../types/api';\nimport { getItems, renderIcon } from '../../constants/helpers';\nimport createStyle from '../../constants/Styles';\n\nexport default function ResourcesPage() {\n  const { headerAction } = useAppContext();\n  const isAction = headerAction === 'Resources';\n  const [fetched, setFetched] = React.useState<boolean>(false);\n  const [resources, setResources] = React.useState<Resources>([]);\n  const [selectedResource, setSelectedResource] = React.useState<Resource>();\n\n  React.useEffect(() => {\n    // const getItems = async () => {\n    //   if (!fetched) {\n    //     setResources(await getResources());\n    //     setFetched(true);\n    //   }\n    // };\n\n    // getItems();\n    getItems(\n      { fetched, setFetched },\n      { fetchItems: getResources, setItems: setResources }\n    );\n  }, [fetched, setResources, setFetched]);\n\n  const bookmarkAction = async (resource: Resource) => {\n    const resourceIdx = resources.indexOf(resource);\n    const newResource = { ...resource };\n    const newResources = [...resources];\n\n    await bookmarkResource(resource);\n    newResource.bookmarked = !resource.bookmarked;\n\n    if (selectedResource) {\n      setSelectedResource(newResource);\n    }\n\n    newResources[resourceIdx] = newResource;\n    setResources(newResources);\n  };\n\n  const renderMoreAction = (props: {} | undefined) =>\n    selectedResource ? (\n      <ButtonGroup {...props} appearance=\"ghost\" status=\"basic\">\n        <Button\n          accessoryLeft={(p) =>\n            renderIcon(p, selectedResource.bookmarked ? 'star' : 'star-outline')\n          }\n          onPress={() => bookmarkAction(selectedResource)}\n        />\n        <Button\n          accessoryLeft={(p) => renderIcon(p, 'open-in-new')}\n          onPress={() => Linking.openURL(selectedResource.link)}\n        />\n      </ButtonGroup>\n    ) : (\n      <></>\n    );\n\n  const renderBackAction = (props: {} | undefined) => (\n    <TopNavigationAction\n      icon={(p) => renderIcon(p, 'arrow-back')}\n      onPress={() => setSelectedResource(undefined)}\n      {...props}\n    />\n  );\n\n  const renderItemFooter = (\n    props: ViewProps | undefined,\n    info: ListRenderItemInfo<Resource>\n  ) => (\n    <View {...props} style={[styles.itemFooter, styles.flexDirectionRow]}>\n      <View\n        style={[\n          styles.flex1,\n          styles.justifyContentCenter,\n          styles.marginHorizontal1,\n        ]}\n      >\n        <Text category=\"s2\">{info.item.author}</Text>\n        <Text appearance=\"hint\" category=\"c1\">\n          {info.item.date_published}\n        </Text>\n      </View>\n      <Button\n        appearance=\"ghost\"\n        status=\"basic\"\n        accessoryLeft={(p) =>\n          renderIcon(p, info.item.bookmarked ? 'star' : 'star-outline')\n        }\n        onPress={() => bookmarkAction(info.item)}\n      />\n    </View>\n  );\n\n  const renderItem = (info: ListRenderItemInfo<Resource>) => (\n    <Card\n      style={styles.item}\n      footer={(p) => renderItemFooter(p, info)}\n      onPress={() => setSelectedResource(info.item)}\n    >\n      <Text category=\"h2\">{info.item.title}</Text>\n      <Text>\n        <Markdown>{`${info.item.content.substring(0, 82)}...`}</Markdown>\n      </Text>\n    </Card>\n  );\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout style={styles.flex1}>\n        {selectedResource ? (\n          <>\n            <TopNavigation\n              alignment=\"center\"\n              title={selectedResource.title}\n              subtitle={`${selectedResource.author} | ${selectedResource.date_published}`}\n              accessoryLeft={renderBackAction}\n              accessoryRight={renderMoreAction}\n            />\n            <ScrollView>\n              <Text>\n                <Markdown\n                  style={{\n                    body: styles.contentContainer,\n                    image: styles.contentImage,\n                  }}\n                >\n                  {selectedResource.content}\n                </Markdown>\n              </Text>\n            </ScrollView>\n          </>\n        ) : resources.length > 0 ? (\n          <List\n            data={resources.filter((resource) =>\n              isAction ? resource.bookmarked : true\n            )}\n            renderItem={renderItem}\n          />\n        ) : (\n          <Layout\n            style={[\n              styles.flex1,\n              styles.alignItemsCenter,\n              styles.justifyContentCenter,\n              styles.padding2,\n            ]}\n          >\n            <Text style={styles.noResourceTitle}>\n              {'No resources available'}\n            </Text>\n          </Layout>\n        )}\n      </Layout>\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  contentContainer: {\n    paddingHorizontal: 10,\n  },\n  contentImage: {\n    flex: 1,\n    maxWidth: 400,\n    margin: 'auto',\n  },\n  noResourceTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  item: {\n    marginVertical: 8,\n  },\n  itemFooter: {\n    marginHorizontal: -8,\n  },\n});\n","import React from 'react';\nimport { ImageProps } from 'react-native';\nimport { Button, Icon } from '@ui-kitten/components';\nimport { CompositeNavigationProp } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RootAuthParamList, RootStackParamList } from '../../types/navigation';\nimport createStyle from '../../constants/Styles';\n\nconst formStyle = createStyle({\n  formElement: {\n    marginVertical: 2,\n  },\n  themeToggleStyle: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n  },\n  viewPassword: {\n    minHeight: 0,\n    minWidth: 0,\n    paddingVertical: 0,\n    paddingHorizontal: 0,\n  },\n  loginButton: {\n    marginTop: 10,\n  },\n  agreedSpacing: {\n    marginVertical: 10,\n  },\n  agreedTextSpacing: {\n    marginHorizontal: 4,\n  },\n});\n\nconst pwAccessoryIcon = (\n  value: boolean,\n  p: Partial<ImageProps> | undefined\n) => <Icon name={value ? 'visibility-off' : 'visibility'} {...p} />;\n\nexport const passwordAccessory = (\n  props: Partial<ImageProps> | undefined,\n  setter: Function,\n  value: boolean\n) => (\n  <Button\n    appearance=\"ghost\"\n    onPress={() => setter(!value)}\n    accessoryLeft={(p) => pwAccessoryIcon(value, p)}\n    {...props}\n    style={formStyle.viewPassword}\n  />\n);\n\nexport const SwitchForm = ({\n  navigation,\n  page,\n}: {\n  navigation: CompositeNavigationProp<\n    NativeStackNavigationProp<RootAuthParamList, 'Login'>,\n    NativeStackNavigationProp<RootStackParamList, 'Root'>\n  >;\n  page: keyof RootAuthParamList;\n}) => (\n  <Button\n    onPress={() => navigation.navigate(page)}\n    status=\"warning\"\n    style={formStyle.formElement}\n  >\n    {page === 'Register' ? 'create account' : 'log into existing account'}\n  </Button>\n);\n\nexport default formStyle;\n","import React from 'react';\nimport {\n  Pressable,\n  PressableProps,\n  SafeAreaView,\n  ScrollView,\n  View,\n  ViewProps,\n} from 'react-native';\nimport {\n  Avatar,\n  Button,\n  Card,\n  Divider,\n  Input,\n  Layout,\n  Modal,\n  Text,\n  TextProps,\n  Toggle,\n  TopNavigation,\n  TopNavigationAction,\n} from '@ui-kitten/components';\nimport { useAppContext, useThemeContext } from '../../contexts';\nimport { deleteUser, updateUser } from '../../api/user';\nimport { RootTabScreenProps } from '../../types/navigation';\nimport { FormError } from '../../types/api';\nimport { passwordAccessory } from '../Auth/FormStyle';\nimport { renderIcon } from '../../constants/helpers';\nimport createStyle from '../../constants/Styles';\n\ntype SettingProps = PressableProps & {\n  hint: string;\n  hintProps?: TextProps;\n  children?: React.ReactNode;\n};\n\ntype FieldMap<T = string> = {\n  placeholder: string;\n  value: T;\n  onChangeText: React.Dispatch<React.SetStateAction<T>>;\n};\n\nfunction Setting(props: SettingProps) {\n  const { hint, hintProps, children, ...pressableProps } = props;\n\n  return (\n    <>\n      <Pressable\n        {...pressableProps}\n        style={[\n          styles.padding1,\n          styles.flexDirectionRow,\n          styles['justifyContentSpace-between'],\n          styles.alignItemsCenter,\n        ]}\n      >\n        <Text {...hintProps} category=\"s2\">\n          {hint}\n        </Text>\n        {children}\n      </Pressable>\n      <Divider />\n    </>\n  );\n}\n\nfunction SettingSection(props: SettingProps) {\n  const { hint, hintProps, children } = props;\n\n  return (\n    <>\n      <View\n        style={[\n          styles.padding1,\n          styles.flexDirectionRow,\n          styles['justifyContentSpace-between'],\n          styles.alignItemsCenter,\n        ]}\n      >\n        <Text {...hintProps} category=\"s2\">\n          {hint}\n        </Text>\n      </View>\n      <Divider />\n      <View\n        style={[\n          styles.alignContentCenter,\n          styles.marginTop2,\n          styles.marginBottom4,\n          styles.marginHorizontal1,\n        ]}\n      >\n        {children}\n      </View>\n      <Divider />\n    </>\n  );\n}\n\nexport default function SettingsPage({\n  navigation,\n}: RootTabScreenProps<'Settings'>) {\n  const {\n    user,\n    helpers: { setUser, signOut },\n  } = useAppContext();\n  const { switchTheme, theme } = useThemeContext();\n\n  const [forename, setForename] = React.useState<string>('');\n  const [surname, setSurname] = React.useState<string>('');\n  const [age, setAge] = React.useState<number>(0);\n  const [height, setHeight] = React.useState<number>(0);\n  const [weight, setWeight] = React.useState<number>(0);\n\n  const numInfoMap: FieldMap<number>[] = [\n    {\n      placeholder: 'age',\n      value: age,\n      onChangeText: setAge,\n    },\n    {\n      placeholder: 'height (cm)',\n      value: height,\n      onChangeText: setHeight,\n    },\n    {\n      placeholder: 'weight (kg)',\n      value: weight,\n      onChangeText: setWeight,\n    },\n  ];\n\n  const [oldPassword, setOldPassword] = React.useState<string>('');\n  const [newPassword, setNewPassword] = React.useState<string>('');\n  const [confirmPassword, setConfirmPassword] = React.useState<string>('');\n  const [passwordVisibility, setPasswordVisibility] =\n    React.useState<boolean>(false);\n\n  const passwordMap: FieldMap[] = [\n    {\n      placeholder: 'current password',\n      value: oldPassword,\n      onChangeText: setOldPassword,\n    },\n    {\n      placeholder: 'new password',\n      value: newPassword,\n      onChangeText: setNewPassword,\n    },\n    {\n      placeholder: 'repeat password',\n      value: confirmPassword,\n      onChangeText: setConfirmPassword,\n    },\n  ];\n\n  const [error, setError] = React.useState<FormError | any>();\n\n  const [warnModalVisibility, setWarnModalVisibility] =\n    React.useState<boolean>(false);\n\n  React.useEffect(() => {\n    if (user) {\n      setForename(user.forename || '');\n      setSurname(user.surname || '');\n      setAge(user.age || 0);\n      setHeight(user.height || 0);\n      setWeight(user.weight || 0);\n    }\n  }, [user, setForename, setSurname, setAge, setHeight, setWeight]);\n\n  const strToNum = (val: string) => {\n    return parseInt(val.match(/\\d+/g)?.join('') || '0');\n  };\n\n  const resetFields = () => {\n    setError(undefined);\n    setOldPassword('');\n    setNewPassword('');\n    setConfirmPassword('');\n  };\n\n  const updateProfile = async () => {\n    if (user) {\n      const newUser = {\n        ...user,\n        forename,\n        surname,\n        picture: null,\n        age,\n        height,\n        weight,\n      };\n      await updateUser({\n        ...newUser,\n        old_password: oldPassword,\n        password: newPassword,\n      })\n        .then(resetFields)\n        .catch(setError);\n      setUser(newUser);\n    }\n  };\n\n  const renderMoreAction = (props: {} | undefined) => (\n    <TopNavigationAction\n      icon={(p) => renderIcon(p, 'save')}\n      onPress={updateProfile}\n      {...props}\n    />\n  );\n\n  const renderBackAction = (props: {} | undefined) => (\n    <TopNavigationAction\n      icon={(p) => renderIcon(p, 'arrow-back')}\n      onPress={() => navigation.goBack()}\n      {...props}\n    />\n  );\n\n  const cardHeader = (props: ViewProps | undefined) => (\n    <View {...props}>\n      <Text category=\"s2\">Are you sure?</Text>\n    </View>\n  );\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout style={styles.flex1}>\n        {user ? (\n          <>\n            <TopNavigation\n              alignment=\"center\"\n              title=\"Settings\"\n              accessoryLeft={renderBackAction}\n              accessoryRight={renderMoreAction}\n            />\n            <ScrollView>\n              <SettingSection hint=\"Edit Profile\">\n                <Avatar\n                  source={{\n                    uri: 'https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp',\n                  }}\n                  size=\"giant\"\n                  style={[styles.alignSelfCenter, styles.marginBottom1]}\n                />\n                <Input\n                  placeholder=\"forename\"\n                  value={forename}\n                  onChangeText={setForename}\n                />\n                <Input\n                  placeholder=\"surname\"\n                  value={surname}\n                  onChangeText={setSurname}\n                />\n                {numInfoMap.map((pMap) => (\n                  <Input\n                    key={pMap.placeholder}\n                    placeholder={pMap.placeholder}\n                    value={`${pMap.value || ''}`}\n                    onChangeText={(t) => pMap.onChangeText(strToNum(t))}\n                  />\n                ))}\n              </SettingSection>\n              <SettingSection hint=\"Change Password\">\n                {passwordMap.map((pMap) => (\n                  <Input\n                    key={pMap.placeholder}\n                    {...pMap}\n                    secureTextEntry={!passwordVisibility}\n                    accessoryRight={(props) =>\n                      passwordAccessory(\n                        props,\n                        setPasswordVisibility,\n                        passwordVisibility\n                      )\n                    }\n                    {...(pMap.placeholder === 'repeat password'\n                      ? {\n                          caption:\n                            error?.confirmPassword ||\n                            (confirmPassword && confirmPassword !== newPassword\n                              ? 'Does not match with your password.'\n                              : ''),\n                          status:\n                            error?.confirmPassword ||\n                            (confirmPassword && confirmPassword !== newPassword)\n                              ? 'danger'\n                              : 'basic',\n                        }\n                      : {\n                          caption: error?.old_password,\n                          status: error?.old_password ? 'danger' : 'basic',\n                        })}\n                  />\n                ))}\n              </SettingSection>\n              <Setting hint=\"Notifications\" />\n              <Setting hint=\"Privacy\" />\n              <Setting hint=\"System Theme\" onPress={() => switchTheme()}>\n                <Toggle\n                  status={theme === 'light' ? 'warning' : 'basic'}\n                  onChange={() => switchTheme()}\n                  checked={theme === 'light'}\n                >\n                  {theme}\n                </Toggle>\n              </Setting>\n              <Setting\n                hint=\"Delete Account\"\n                hintProps={{ status: 'danger' }}\n                onPress={() => setWarnModalVisibility(true)}\n              />\n              <Modal\n                visible={warnModalVisibility}\n                backdropStyle={styles.alertBackdrop}\n                onBackdropPress={() => setWarnModalVisibility(false)}\n              >\n                <Card\n                  status=\"danger\"\n                  style={[styles.flex1, styles.cardMargin]}\n                  header={cardHeader}\n                >\n                  <Button\n                    status=\"danger\"\n                    onPress={() => {\n                      deleteUser(user);\n                      signOut();\n                    }}\n                  >\n                    Confirm\n                  </Button>\n                  <Button\n                    appearance=\"ghost\"\n                    status=\"basic\"\n                    onPress={() => setWarnModalVisibility(false)}\n                  >\n                    Cancel\n                  </Button>\n                </Card>\n              </Modal>\n            </ScrollView>\n          </>\n        ) : (\n          <Layout\n            style={[\n              styles.flex1,\n              styles.alignItemsCenter,\n              styles.justifyContentCenter,\n              styles.padding2,\n            ]}\n          >\n            <Text style={styles.noSettingsTitle}>\n              {'Something went wrong. Please login.'}\n            </Text>\n          </Layout>\n        )}\n      </Layout>\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  cardMargin: {\n    margin: 2,\n  },\n  alertBackdrop: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  noSettingsTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n});\n","import React from 'react';\nimport { Animated, Pressable } from 'react-native';\nimport { Button, Icon, Layout, Text } from '@ui-kitten/components';\nimport { ActionItemProps } from '../../types/FAB';\nimport createStyle from '../../constants/Styles';\n\nexport default function ActionItem(props: ActionItemProps) {\n  const {\n    name,\n    text,\n    icon,\n    color = 'red',\n    shadow = {},\n    animated = true,\n    buttonSize = 40,\n    position = 'right',\n    textStyle = {},\n    textColor = 'black',\n    textProps = {},\n    textElevation = 5,\n    textBackground = 'white',\n    textContainerStyle = {},\n    paddingTopBottom = 8,\n    onPress,\n  } = props;\n\n  const animation = React.useRef(new Animated.Value(0)).current;\n\n  return (\n    <Pressable\n      style={[styles.container, styles.flex1, styles.flexDirectionColumn]}\n      onPress={() => onPress(name)}\n    >\n      <Animated.View\n        style={[\n          styles.container,\n          styles.flex1,\n          styles.flexDirectionRow,\n          styles.alignItemsCenter,\n          styles.paddingLeft0,\n          styles.paddingRight0,\n          animated\n            ? {\n                marginBottom: animation.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [5, 10],\n                }),\n              }\n            : { marginBottom: 10 },\n          {\n            paddingTop: paddingTopBottom,\n            paddingBottom: paddingTopBottom,\n          },\n        ]}\n      >\n        <Layout\n          style={[\n            styles.textContainer,\n            styles[`${position}TextContainer`],\n            {\n              backgroundColor: textBackground,\n              elevation: textElevation,\n              shadowOffset: {\n                height: textElevation,\n                width: textElevation,\n              },\n            },\n            shadow,\n            textContainerStyle,\n          ]}\n        >\n          <Text\n            style={[\n              styles.text,\n              {\n                color: textColor,\n              },\n              textStyle,\n            ]}\n            {...textProps}\n          >\n            {text || name}\n          </Text>\n        </Layout>\n\n        <Button\n          onPress={() => onPress(name)}\n          style={[\n            styles.button,\n            styles.alignItemsCenter,\n            styles.justifyContentCenter,\n            {\n              backgroundColor: color,\n              width: buttonSize,\n              height: buttonSize,\n              borderRadius: buttonSize / 2,\n            },\n            shadow,\n          ]}\n          accessoryLeft={(p) => <Icon name={icon} {...p} />}\n        />\n      </Animated.View>\n    </Pressable>\n  );\n}\n\nconst styles = createStyle({\n  container: {\n    elevation: 0,\n  },\n  textContainer: {\n    paddingHorizontal: 8,\n    elevation: 5,\n    borderRadius: 4,\n    height: 22,\n  },\n  leftTextContainer: {\n    marginLeft: 14,\n  },\n  centerTextContainer: {},\n  rightTextContainer: {\n    marginRight: 14,\n  },\n  text: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  button: {\n    elevation: 5,\n  },\n});\n","import React from 'react';\nimport {\n  Animated,\n  LayoutAnimation,\n  Keyboard,\n  Pressable,\n  View,\n} from 'react-native';\nimport { Button, Icon } from '@ui-kitten/components';\nimport { MainButtonProps } from '../../types/FAB';\nimport { RootActionParamList } from '../../types/navigation';\nimport createStyle from '../../constants/Styles';\nimport ActionItem from './ActionItem';\n\nconst DEFAULT_SHADOW_PROPS = {\n  shadowOpacity: 0.35,\n  shadowOffset: {\n    width: 0,\n    height: 5,\n  },\n  shadowColor: '#000000',\n  shadowRadius: 3,\n};\n\nexport default function MainButton(Props: MainButtonProps) {\n  const {\n    color = 'red',\n    shadow = {},\n    actions = [],\n    visible = true,\n    position = 'right',\n    animated = true,\n    iconHeight = 15,\n    iconWidth = 15,\n    iconColor = '#fff',\n    buttonSize = 56,\n    floatingIcon,\n    overlayColor = 'rgba(68, 68, 68, 0.6)',\n    showBackground = 'true',\n    distanceToEdge = 30,\n    mainVerticalDistance = 0,\n    actionsPaddingTopBottom = 8,\n    onPressMain,\n    onPressAction,\n  } = Props;\n\n  const [active, setActive] = React.useState<boolean>(false);\n\n  const distanceToVerticalEdge =\n    typeof distanceToEdge === 'number'\n      ? distanceToEdge\n      : distanceToEdge.vertical;\n  const distanceToHorizontalEdge =\n    typeof distanceToEdge === 'number'\n      ? distanceToEdge\n      : distanceToEdge.horizontal;\n\n  const sizeStyle = {\n    width: buttonSize,\n    height: buttonSize,\n    borderRadius: buttonSize / 2,\n  };\n  const shadowOptions = {\n    ...DEFAULT_SHADOW_PROPS,\n    ...shadow,\n  };\n\n  const animation = React.useRef(new Animated.Value(0)).current;\n  const actionsAnimation = React.useRef(new Animated.Value(0)).current;\n\n  const visibleAnimation = React.useRef(\n    new Animated.Value(visible ? 0 : 1)\n  ).current;\n  const fadeAnimation = React.useRef(\n    new Animated.Value(visible ? 1 : 0)\n  ).current;\n\n  const mainBottomAnimation = React.useRef(\n    new Animated.Value(distanceToVerticalEdge + mainVerticalDistance)\n  ).current;\n  const actionsBottomAnimation = React.useRef(\n    new Animated.Value(\n      buttonSize +\n        distanceToVerticalEdge +\n        actionsPaddingTopBottom +\n        mainVerticalDistance\n    )\n  ).current;\n\n  const resetButton = () => {\n    if (animated) {\n      Animated.spring(animation, {\n        toValue: 0,\n        useNativeDriver: false,\n      }).start();\n      Animated.spring(actionsAnimation, {\n        toValue: 0,\n        useNativeDriver: false,\n      }).start();\n    }\n    setActive(false);\n  };\n\n  const animateButton = () => {\n    Keyboard.dismiss();\n\n    if (onPressMain) {\n      onPressMain(!active);\n    }\n\n    if (!active && actions.length > 0) {\n      if (animated) {\n        Animated.spring(animation, {\n          toValue: 1,\n          useNativeDriver: false,\n        }).start();\n        Animated.spring(actionsAnimation, {\n          toValue: 1,\n          useNativeDriver: false,\n        }).start();\n        LayoutAnimation.configureNext({\n          duration: 180,\n          create: {\n            type: LayoutAnimation.Types.easeInEaseOut,\n            property: LayoutAnimation.Properties.opacity,\n          },\n        });\n      }\n\n      setActive(true);\n    } else {\n      resetButton();\n    }\n  };\n\n  const pressAction = (name?: keyof RootActionParamList) => {\n    if (onPressAction && name) {\n      onPressAction(name);\n    }\n\n    resetButton();\n  };\n\n  return (\n    <Animated.View\n      pointerEvents=\"box-none\"\n      style={[styles.overlay, { display: visible ? 'flex' : 'none' }]}\n    >\n      {active && showBackground && (\n        <Pressable\n          style={[styles.overlay, { backgroundColor: overlayColor }]}\n          onPress={resetButton}\n        />\n      )}\n      {active && actions && actions.length > 0 && (\n        <Animated.View\n          style={[\n            styles.actions,\n            styles[`${position}Actions`],\n            animated\n              ? {\n                  opacity: actionsAnimation.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [0, 1],\n                  }),\n                }\n              : { opacity: active ? 1 : 0 },\n            {\n              bottom: actionsBottomAnimation,\n            },\n            active ? styles[`${position}ActionsVisible`] : {},\n          ]}\n          pointerEvents=\"box-none\"\n        >\n          {actions.map((action) => (\n            <ActionItem\n              key={action.name}\n              color={color}\n              position={position}\n              shadow={shadowOptions}\n              active={active}\n              animated={animated}\n              onPress={pressAction}\n              paddingTopBottom={actionsPaddingTopBottom}\n              {...action}\n            />\n          ))}\n        </Animated.View>\n      )}\n      <Animated.View\n        style={[\n          styles.buttonContainer,\n          sizeStyle,\n          styles[`${position}Button`],\n          {\n            backgroundColor: active ? 'white' : color,\n            bottom: mainBottomAnimation,\n            right: distanceToHorizontalEdge,\n          },\n          animated\n            ? {\n                opacity: fadeAnimation,\n                transform: [\n                  {\n                    rotate: visibleAnimation.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: ['0deg', '90deg'],\n                    }),\n                  },\n                  {\n                    scale: visibleAnimation.interpolate({\n                      inputRange: [0, 1],\n                      outputRange: [1, 0],\n                    }),\n                  },\n                ],\n              }\n            : {},\n          shadowOptions,\n        ]}\n        accessible\n        accessibilityLabel=\"Floating Action Button\"\n      >\n        <Pressable style={[styles.button, sizeStyle]} onPress={animateButton}>\n          <Animated.View\n            style={[\n              styles.flex1,\n              styles.alignItemsCenter,\n              styles.justifyContentCenter,\n              sizeStyle,\n              {\n                transform: [\n                  {\n                    rotate: active ? '45deg' : '0deg',\n                  },\n                ],\n              },\n              animated\n                ? {\n                    transform: [\n                      {\n                        rotate: animation.interpolate({\n                          inputRange: [0, 1],\n                          outputRange: ['0deg', '45deg'],\n                        }),\n                      },\n                    ],\n                  }\n                : {\n                    transform: [\n                      {\n                        rotate: active ? '45deg' : '0deg',\n                      },\n                    ],\n                  },\n            ]}\n          >\n            {floatingIcon ? (\n              <Button\n                onPress={animateButton}\n                appearance=\"ghost\"\n                accessoryLeft={(p) => (\n                  <Icon\n                    name={floatingIcon}\n                    {...p}\n                    style={[p?.style, { color: active ? color : iconColor }]}\n                  />\n                )}\n              />\n            ) : (\n              <View style={styles.buttonContainer}>\n                <View\n                  style={[\n                    styles.iconHorizontalContainer,\n                    {\n                      height: iconHeight,\n                      backgroundColor: active ? color : iconColor,\n                    },\n                  ]}\n                />\n                <View\n                  style={[\n                    styles.iconVerticalContainer,\n                    {\n                      width: iconWidth,\n                      backgroundColor: active ? color : iconColor,\n                    },\n                  ]}\n                />\n              </View>\n            )}\n          </Animated.View>\n        </Pressable>\n      </Animated.View>\n    </Animated.View>\n  );\n}\n\nconst styles = createStyle({\n  actions: {\n    position: 'absolute',\n    bottom: 85,\n    zIndex: 10,\n  },\n  rightActions: {\n    alignItems: 'flex-end',\n    right: 30,\n  },\n  leftActions: {\n    alignItems: 'flex-start',\n    left: 30,\n  },\n  centerActions: {},\n  rightActionsVisible: {\n    right: 30,\n  },\n  leftActionsVisible: {\n    left: 30,\n  },\n  centerActionsVisible: {},\n  overlay: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n    elevation: 0,\n    zIndex: 0,\n    backgroundColor: 'transparent',\n  },\n  buttonContainer: {\n    overflow: 'hidden',\n    zIndex: 2,\n    alignItems: 'center',\n    justifyContent: 'center',\n    elevation: 5,\n    position: 'absolute',\n  },\n  button: {\n    zIndex: 3,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rightButton: {},\n  leftButton: {},\n  centerButton: {},\n  iconHorizontalContainer: {\n    width: 2,\n    position: 'absolute',\n    height: 15,\n  },\n  iconVerticalContainer: {\n    height: 2,\n    position: 'absolute',\n    width: 15,\n  },\n});\n","import { default as FAB } from './MainButton';\nexport default FAB;\n","import React from 'react';\nimport { GestureResponderEvent } from 'react-native';\nimport { Button } from '@ui-kitten/components';\nimport FAB from '../../components/FAB';\n\nexport const renderCancelAccessory = (\n  props: {} | undefined,\n  goBack?: ((event: GestureResponderEvent) => void) | undefined\n) => (\n  <Button appearance=\"ghost\" status=\"basic\" {...props} onPress={goBack}>\n    Cancel\n  </Button>\n);\n\nexport const ActionButton = ({ onPressMain }: { onPressMain: () => any }) => (\n  <FAB floatingIcon=\"check\" color=\"green\" onPressMain={onPressMain} />\n);\n","import React from 'react';\nimport { KeyboardAvoidingView, View } from 'react-native';\nimport {\n  IndexPath,\n  Input,\n  Layout,\n  Select,\n  SelectItem,\n  TopNavigation,\n} from '@ui-kitten/components';\nimport { useAppContext } from '../../contexts';\nimport { createTrackItem } from '../../api/items';\nimport { NavProps, RootActionParamList } from '../../types/navigation';\nimport { FormError, FrequencyDisplay } from '../../types/api';\nimport createStyle from '../../constants/Styles';\nimport { ActionButton, renderCancelAccessory } from './utils';\n\nconst FREQUENCY_OPTIONS: { [f in FrequencyDisplay]: number } = {\n  DAILY: 1,\n  WEEKLY: 7,\n  MONTHLY: 30,\n};\n\nexport default function AddItem({\n  navigation,\n}: NavProps<RootActionParamList, 'Item'>) {\n  const {\n    items = [],\n    helpers: { setItems },\n  } = useAppContext();\n  const [name, setName] = React.useState<string>('');\n  const [target, setTarget] = React.useState<number>(1);\n  const [selectedFrequency, setSelectedFrequency] = React.useState<IndexPath>(\n    new IndexPath(0)\n  );\n  const [error, setError] = React.useState<FormError | any>();\n  const frequencies = Object.keys(FREQUENCY_OPTIONS) as FrequencyDisplay[];\n\n  const strToNum = (val: string) =>\n    parseInt(val.match(/\\d+/g)?.join('') || '0');\n\n  const goBack = () => navigation.goBack();\n\n  const createItem = async () => {\n    const newItem = await createTrackItem({\n      item: { name },\n      target,\n      frequency: FREQUENCY_OPTIONS[frequencies[selectedFrequency.row]],\n    });\n    setItems([...items, newItem]);\n    goBack();\n  };\n\n  return (\n    <KeyboardAvoidingView style={styles.flex1}>\n      <Layout style={styles.flex1}>\n        <TopNavigation\n          alignment=\"start\"\n          title=\"New Item\"\n          accessoryRight={(p) => renderCancelAccessory(p, goBack)}\n        />\n        <View style={[styles.alignItemsCenter, styles.justifyContentCenter]}>\n          <View style={styles.formInnerContainer}>\n            <Input\n              placeholder=\"Enter name\"\n              onChangeText={setName}\n              style={styles.formElement}\n              caption={error?.name}\n              status={error?.name ? 'danger' : 'basic'}\n              size=\"large\"\n            />\n            <View style={styles.flexDirectionRow}>\n              <Input\n                placeholder=\"target\"\n                value={`${target}`}\n                onChangeText={(t) => setTarget(strToNum(t))}\n                style={[styles.flex1, styles.formElement]}\n                size=\"large\"\n              />\n              <Select\n                value={frequencies[selectedFrequency.row].toLowerCase()}\n                selectedIndex={selectedFrequency}\n                onSelect={(index) => setSelectedFrequency(index as IndexPath)}\n                style={[styles.flex1, styles.formElement]}\n                size=\"large\"\n                disabled\n              >\n                {frequencies.map((frequency) => (\n                  <SelectItem key={frequency} title={frequency} />\n                ))}\n              </Select>\n            </View>\n          </View>\n        </View>\n      </Layout>\n      <ActionButton\n        onPressMain={() =>\n          name ? createItem() : setError({ name: 'This field is required.' })\n        }\n      />\n    </KeyboardAvoidingView>\n  );\n}\n\nconst styles = createStyle({\n  formInnerContainer: {\n    maxWidth: 500,\n    marginTop: 100,\n  },\n  formElement: {\n    margin: 2,\n  },\n});\n","import React from 'react';\nimport { SafeAreaView, View } from 'react-native';\nimport { Input, Layout, TopNavigation } from '@ui-kitten/components';\nimport HomePage from '../BottomTab/HomePage';\nimport { useAppContext } from '../../contexts';\nimport { createJournal } from '../../api/journals';\nimport { FormError } from '../../types/api';\nimport { NavProps, RootActionParamList } from '../../types/navigation';\nimport createStyle from '../../constants/Styles';\nimport { ActionButton, renderCancelAccessory } from './utils';\n\nconst yesterdayDate = new Date();\nyesterdayDate.setDate(yesterdayDate.getDate() + 1);\nconst YESTERDAY = yesterdayDate.toISOString().slice(0, 10);\n\nconst todayDate = new Date();\nconst TODAY = todayDate.toISOString().slice(0, 10);\n\nconst tomorrowDate = new Date();\ntomorrowDate.setDate(tomorrowDate.getDate() + 1);\nconst TOMORROW = tomorrowDate.toISOString().slice(0, 10);\n\nconst INTERVAL_TIMES = {\n  LAST_NIGHT: new Date(`${YESTERDAY}T22:00:00`),\n  MORNING: new Date(`${TODAY}T05:00:00`),\n  AFTERNOON: new Date(`${TODAY}T12:00:00`),\n  EVENING: new Date(`${TODAY}T17:00:00`),\n  NIGHT: new Date(`${TODAY}T22:00:00`),\n  NEXT_MORNING: new Date(`${TOMORROW}T05:00:00`),\n};\n\nexport default function AddJournal({\n  navigation,\n}: NavProps<RootActionParamList, 'Journal'>) {\n  const {\n    journals = [],\n    helpers: { setJournals },\n  } = useAppContext();\n  const [meal, setMeal] = React.useState<string>('');\n  const [time, setTime] = React.useState<Date>(todayDate);\n  const [content, setContent] = React.useState<string>('');\n  const [error, setError] = React.useState<FormError | any>();\n\n  const goBack = () => navigation.goBack();\n\n  const recommendedMeal = () => {\n    let mealName = '';\n\n    if (\n      (time >= INTERVAL_TIMES.LAST_NIGHT && time < INTERVAL_TIMES.MORNING) ||\n      (time >= INTERVAL_TIMES.NIGHT && time < INTERVAL_TIMES.NEXT_MORNING)\n    ) {\n      mealName = 'Midnight Snack';\n    } else if (\n      time >= INTERVAL_TIMES.MORNING &&\n      time < INTERVAL_TIMES.AFTERNOON\n    ) {\n      mealName = 'Breakfast';\n    } else if (\n      time >= INTERVAL_TIMES.AFTERNOON &&\n      time < INTERVAL_TIMES.EVENING\n    ) {\n      mealName = 'Lunch';\n    } else if (time >= INTERVAL_TIMES.EVENING && time < INTERVAL_TIMES.NIGHT) {\n      mealName = 'Dinner';\n    }\n\n    return mealName;\n  };\n\n  const logEntry = async () => {\n    const newJournal = await createJournal({\n      meal,\n      entry_time: time.toISOString(),\n      content,\n    });\n    setJournals([...journals, newJournal]);\n    goBack();\n  };\n\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout style={styles.flex1}>\n        <TopNavigation\n          alignment=\"start\"\n          title=\"Journal Entry\"\n          accessoryRight={(p) => renderCancelAccessory(p, goBack)}\n        />\n        <View style={[styles.formContainer, styles.flexDirectionRow]}>\n          <Input\n            placeholder={recommendedMeal() || 'meal'}\n            onChangeText={setMeal}\n            caption={error?.meal}\n            status={error?.meal ? 'danger' : 'basic'}\n            size=\"large\"\n          />\n          <Input\n            placeholder=\"time\"\n            value={`${time.toDateString()} ${time.toLocaleTimeString()}`}\n            onChangeText={(t) => setTime(new Date(t))}\n            style={styles.timeInput}\n            size=\"large\"\n            disabled\n          />\n        </View>\n        <Input\n          multiline\n          placeholder=\"journal entry...\"\n          onChangeText={setContent}\n          textStyle={styles.journalEntryText}\n          style={styles.journalEntry}\n        />\n      </Layout>\n      <HomePage />\n      <ActionButton\n        onPressMain={() =>\n          meal ? logEntry() : setError({ meal: 'This field is required.' })\n        }\n      />\n    </SafeAreaView>\n  );\n}\n\nconst styles = createStyle({\n  formContainer: {\n    margin: 10,\n  },\n  timeInput: {\n    marginHorizontal: 5,\n  },\n  journalEntry: {\n    margin: 10,\n  },\n  journalEntryText: {\n    minHeight: 100,\n  },\n});\n","import React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { AddItem, AddJournal } from '../screens/Action';\nimport { RootActionParamList } from '../types/navigation';\n\nconst Action = createNativeStackNavigator<RootActionParamList>();\n\nexport default function ActionNavigator() {\n  return (\n    <Action.Navigator initialRouteName=\"Item\">\n      <Action.Screen\n        name=\"Item\"\n        component={AddItem}\n        options={{ headerShown: false }}\n      />\n      <Action.Screen\n        name=\"Journal\"\n        component={AddJournal}\n        options={{ headerShown: false }}\n      />\n    </Action.Navigator>\n  );\n}\n","import React from 'react';\nimport { Image, ImageProps, Pressable, View } from 'react-native';\nimport {\n  getFocusedRouteNameFromRoute,\n  ParamListBase,\n  RouteProp,\n} from '@react-navigation/native';\nimport {\n  BottomTabBarProps,\n  BottomTabHeaderProps,\n  BottomTabScreenProps,\n  createBottomTabNavigator,\n} from '@react-navigation/bottom-tabs';\nimport {\n  BottomNavigation,\n  BottomNavigationTab,\n  Button,\n  Icon,\n  MenuItem,\n  OverflowMenu,\n  Text,\n  TopNavigation,\n} from '@ui-kitten/components';\nimport { useAppContext } from '../contexts';\nimport {\n  HomePage,\n  JournalPage,\n  ResourcesPage,\n  SettingsPage,\n  StatsPage,\n} from '../screens/BottomTab';\nimport { IconOptions } from '../types';\nimport {\n  RootTabParamList,\n  RouteActionIcon,\n  TabConfig,\n} from '../types/navigation';\nimport FAB from '../components/FAB';\nimport createStyle from '../constants/Styles';\nimport ActionNavigator from './ActionNavigator';\n\nconst BottomTab = createBottomTabNavigator<RootTabParamList>();\n\nconst headerButtonIcons: RouteActionIcon<Partial<RootTabParamList>> = {\n  Home: 'edit',\n  Journal: 'calendar-today',\n  Stats: 'calendar-today',\n  Resources: 'star',\n};\n\ntype RootTab = TabConfig<RootTabParamList>;\n\nconst tabs: RootTab[] = [\n  {\n    name: 'Home',\n    component: HomePage,\n    icon: 'home',\n  },\n  {\n    name: 'Journal',\n    component: JournalPage,\n    icon: 'book',\n  },\n  {\n    name: 'Stats',\n    component: StatsPage,\n    icon: 'bar-chart',\n  },\n  {\n    name: 'Resources',\n    component: ResourcesPage,\n    icon: 'menu-book',\n  },\n  {\n    name: 'Settings',\n    component: SettingsPage,\n    hideTab: true,\n  },\n  {\n    name: 'Action',\n    component: ActionNavigator,\n    hideTab: true,\n  },\n];\n\nexport default function BottomTabNavigator({\n  navigation,\n  route,\n}: BottomTabScreenProps<RootTabParamList>) {\n  const {\n    headerAction,\n    helpers: { signOut, setHeaderAction },\n  } = useAppContext();\n  const [modalVisible, setModalVisible] = React.useState<boolean>(false);\n\n  const navigationLeftAccessory = (props: {} | undefined) => (\n    <Pressable\n      {...props}\n      style={[styles.flexDirectionRow, styles.alignItemsCenter]}\n      onPress={() => navigation.navigate('Home')}\n    >\n      <Image\n        // @ts-ignore\n        style={styles.appIcon}\n        source={{\n          uri: 'https://portion-mate.readthedocs.io/en/latest/assets/logo.png',\n        }}\n      />\n      <Text category=\"s2\">Portion Mate</Text>\n    </Pressable>\n  );\n\n  const navRightAccessoryActionIcon = (\n    props: Partial<ImageProps> | undefined,\n    { name }: RouteProp<ParamListBase, string> | { name: string }\n  ) => (\n    <Icon key=\"action\" name={headerButtonIcons[name]} size={30} {...props} />\n  );\n\n  const cardIcons = (\n    props: Partial<ImageProps> | undefined,\n    name: IconOptions\n  ) => <Icon name={name} {...props} />;\n\n  const userAvatar = (props: Partial<ImageProps> | undefined) => (\n    <Icon key=\"user\" name=\"person\" {...props} />\n  );\n\n  const userOptionsToggle = (props: {} | undefined) => (\n    <Button\n      accessoryLeft={userAvatar}\n      onPress={() => setModalVisible(true)}\n      appearance=\"ghost\"\n      {...props}\n    />\n  );\n\n  const navigationRightAccessory = (\n    props: {} | undefined,\n    { route: { name } }: BottomTabHeaderProps\n  ) => (\n    <View style={styles.flexDirectionRow} {...props}>\n      {headerButtonIcons[name] && (\n        <Button\n          appearance=\"ghost\"\n          accessoryLeft={(p) => navRightAccessoryActionIcon(p, { name })}\n          onPress={() => setHeaderAction(headerAction === name ? '' : name)}\n        />\n      )}\n      <OverflowMenu\n        anchor={userOptionsToggle}\n        backdropStyle={styles.backdropBackground}\n        onBackdropPress={() => setModalVisible(false)}\n        visible={modalVisible}\n        onSelect={() => setModalVisible(false)}\n      >\n        <MenuItem\n          title=\"Settings\"\n          accessoryLeft={(p) => cardIcons(p, 'settings')}\n          onPress={() => navigation.navigate('Settings')}\n        />\n        <MenuItem\n          title=\"Sign Out\"\n          accessoryLeft={(p) => cardIcons(p, 'logout')}\n          onPress={() => signOut()}\n        />\n      </OverflowMenu>\n    </View>\n  );\n\n  const navigationHeader = (props: BottomTabHeaderProps) => (\n    <TopNavigation\n      accessoryLeft={navigationLeftAccessory}\n      accessoryRight={(p) => navigationRightAccessory(p, props)}\n    />\n  );\n\n  const navTabIcon = (\n    tab: RootTab,\n    props?:\n      | {\n          focused: boolean;\n          color: string;\n          size: number;\n        }\n      | Partial<ImageProps>\n  ) => <Icon name={tab.icon} {...props} />;\n\n  const TabBar = (props: BottomTabBarProps) => (\n    <BottomNavigation\n      selectedIndex={props.state.index}\n      onSelect={(index) =>\n        props.navigation.navigate(props.state.routeNames[index])\n      }\n      appearance=\"noIndicator\"\n      {...props}\n    >\n      {tabs\n        .filter((tab) => !tab.hideTab)\n        .map((tab) => (\n          <BottomNavigationTab\n            key={tab.name}\n            icon={(p) => navTabIcon(tab, p)}\n            title={tab.name}\n          />\n        ))}\n    </BottomNavigation>\n  );\n\n  return (\n    <>\n      <BottomTab.Navigator\n        initialRouteName=\"Home\"\n        tabBar={TabBar}\n        screenOptions={{\n          tabBarLabelPosition: 'below-icon',\n          header: navigationHeader,\n          headerShown: true,\n        }}\n      >\n        {tabs.map((tab) => (\n          <BottomTab.Screen key={tab.name} {...tab} />\n        ))}\n      </BottomTab.Navigator>\n      <FAB\n        actions={[\n          {\n            icon: 'library-add',\n            name: 'Item',\n            text: 'Food Item',\n          },\n          {\n            icon: 'note-add',\n            name: 'Journal',\n            text: 'Journal Entry',\n          },\n        ]}\n        floatingIcon=\"add\"\n        onPressAction={(name) =>\n          navigation.navigate('Action', { screen: name })\n        }\n        distanceToEdge={{ vertical: 80, horizontal: 30 }}\n        visible={getFocusedRouteNameFromRoute(route) !== 'Action'}\n      />\n    </>\n  );\n}\n\nconst styles = createStyle({\n  appIcon: {\n    height: 30,\n    width: 30,\n    marginRight: 5,\n  },\n  backdropBackground: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n});\n","import React from 'react';\nimport { Image } from 'react-native';\nimport { Text } from '@ui-kitten/components';\nimport createStyle from '../../constants/Styles';\n\nexport default function Logo() {\n  return (\n    <>\n      <Image\n        source={{\n          uri: 'https://portion-mate.readthedocs.io/en/latest/assets/logo.png',\n        }}\n        // @ts-ignore\n        style={styles.appLogo}\n      />\n      <Text>Portion Mate</Text>\n    </>\n  );\n}\n\nconst styles = createStyle({\n  appLogo: {\n    height: 200,\n    width: 200,\n  },\n});\n","import React from 'react';\nimport { KeyboardAvoidingView, View } from 'react-native';\nimport { Button, Input, Layout } from '@ui-kitten/components';\nimport { AuthError } from '../../types/api';\nimport { useThemeContext } from '../../contexts';\nimport styles from './FormStyle';\nimport Logo from './Logo';\n\ntype FormProps = {\n  children: (Input | JSX.Element | undefined)[];\n  error?: AuthError;\n};\n\nexport default function AuthForm(formProps: FormProps) {\n  const { children, error } = formProps;\n  const { ThemeToggle } = useThemeContext();\n\n  return (\n    <>\n      <KeyboardAvoidingView style={styles.flex1}>\n        <Layout style={[styles.flex1, styles.paddingHorizontal1]}>\n          <View\n            style={[\n              styles.alignItemsCenter,\n              styles.justifyContentCenter,\n              styles.padding2,\n            ]}\n          >\n            <Logo />\n          </View>\n          <View style={[styles.flex1, styles.paddingHorizontal1]}>\n            {error && (\n              <Button\n                status=\"danger\"\n                appearance=\"outline\"\n                style={styles.marginVertical1}\n              >\n                {error?.error_description}\n              </Button>\n            )}\n            {children}\n          </View>\n        </Layout>\n      </KeyboardAvoidingView>\n      <ThemeToggle style={styles.themeToggleStyle} />\n    </>\n  );\n}\n","import React from 'react';\nimport { Button, Input } from '@ui-kitten/components';\nimport { AuthError } from '../../types/api';\nimport { useAppContext } from '../../contexts';\nimport { RootAuthScreenProps } from '../../types/navigation';\nimport AuthForm from './AuthForm';\nimport styles, { passwordAccessory, SwitchForm } from './FormStyle';\n\nexport default function LoginForm({\n  navigation,\n}: RootAuthScreenProps<'Login'>) {\n  const {\n    helpers: { signIn },\n  } = useAppContext();\n  const [email, setEmail] = React.useState<string>('');\n  const [password, setPassword] = React.useState<string>('');\n  const [passwordVisible, setPasswordVisible] = React.useState<boolean>(false);\n  const [error, setError] = React.useState<AuthError>();\n\n  return (\n    <AuthForm error={error}>\n      <Input\n        placeholder=\"email\"\n        onChangeText={setEmail}\n        style={styles.formElement}\n      />\n      <Input\n        placeholder=\"password\"\n        onChangeText={setPassword}\n        accessoryRight={(props) =>\n          passwordAccessory(props, setPasswordVisible, passwordVisible)\n        }\n        secureTextEntry={!passwordVisible}\n        style={styles.formElement}\n      />\n      <Button\n        onPress={() => signIn(email, password).catch(setError)}\n        style={[styles.formElement, styles.loginButton]}\n      >\n        log in\n      </Button>\n      <SwitchForm navigation={navigation} page=\"Register\" />\n    </AuthForm>\n  );\n}\n","import React from 'react';\nimport { Linking } from 'react-native';\nimport { Button, CheckBox, Input, Text } from '@ui-kitten/components';\nimport { RootAuthScreenProps } from '../../types/navigation';\nimport { useAppContext } from '../../contexts';\nimport { FormError } from '../../types/api';\nimport AuthForm from './AuthForm';\nimport styles, { passwordAccessory, SwitchForm } from './FormStyle';\n\nexport default function RegisterForm({\n  navigation,\n}: RootAuthScreenProps<'Register'>) {\n  const {\n    helpers: { signUp },\n  } = useAppContext();\n  const [email, setEmail] = React.useState<string>('');\n  const [forename, setForename] = React.useState<string>('');\n  const [surname, setSurname] = React.useState<string>('');\n  const [password, setPassword] = React.useState<string>('');\n  const [confirmPassword, setConfirmPassword] = React.useState<string>('');\n  const [passwordVisible, setPasswordVisible] = React.useState<boolean>(false);\n  const [agreedTerms, setAgreedTerms] = React.useState<boolean>(false);\n  const [error, setError] = React.useState<FormError | any>();\n\n  return (\n    <AuthForm>\n      <Input\n        placeholder=\"email\"\n        onChangeText={setEmail}\n        caption={error?.email}\n        status={error?.email ? 'danger' : 'basic'}\n        style={styles.formElement}\n      />\n      <Input\n        placeholder=\"forename\"\n        onChangeText={setForename}\n        style={styles.formElement}\n      />\n      <Input\n        placeholder=\"surname\"\n        onChangeText={setSurname}\n        style={styles.formElement}\n      />\n      <Input\n        placeholder=\"password\"\n        onChangeText={setPassword}\n        caption={error?.password}\n        status={error?.password ? 'danger' : 'basic'}\n        accessoryRight={(props) =>\n          passwordAccessory(props, setPasswordVisible, passwordVisible)\n        }\n        secureTextEntry={!passwordVisible}\n        style={styles.formElement}\n      />\n      <Input\n        placeholder=\"confirm password\"\n        onChangeText={setConfirmPassword}\n        caption={\n          error?.confirmPassword ||\n          (confirmPassword && confirmPassword !== password\n            ? 'Does not match with your password.'\n            : '')\n        }\n        status={\n          error?.confirmPassword ||\n          (confirmPassword && confirmPassword !== password)\n            ? 'danger'\n            : 'basic'\n        }\n        accessoryRight={(props) =>\n          passwordAccessory(props, setPasswordVisible, passwordVisible)\n        }\n        secureTextEntry={!passwordVisible}\n        style={styles.formElement}\n      />\n      <CheckBox\n        checked={agreedTerms}\n        onChange={setAgreedTerms}\n        status={error?.agreedTerms && !agreedTerms ? 'danger' : 'primary'}\n        style={styles.agreedSpacing}\n      >\n        <>\n          <Text style={styles.agreedTextSpacing}>\n            {'I read and agree to the'}\n          </Text>\n          <Text\n            onPress={() =>\n              Linking.openURL(\n                'https://portion-mate.readthedocs.io/en/latest/Terms/'\n              )\n            }\n          >\n            {'Terms & Conditions'}\n          </Text>\n        </>\n      </CheckBox>\n      <Button\n        onPress={() =>\n          agreedTerms && password && confirmPassword === password\n            ? signUp(email, password, forename, surname).catch(setError)\n            : setError({\n                agreedTerms: 'This field is required',\n                email: 'This field is required',\n                password: 'This field is required',\n                confirmPassword: 'This field is required',\n              })\n        }\n        style={styles.formElement}\n      >\n        register\n      </Button>\n      <SwitchForm navigation={navigation} page=\"Login\" />\n    </AuthForm>\n  );\n}\n","import React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { RootAuthParamList } from '../types/navigation';\nimport { LoginForm, RegisterForm } from '../screens/Auth';\n\nconst Auth = createNativeStackNavigator<RootAuthParamList>();\n\nexport default function AuthNavigator() {\n  return (\n    <Auth.Navigator initialRouteName=\"Login\">\n      <Auth.Screen\n        name=\"Login\"\n        component={LoginForm}\n        options={{ headerShown: false }}\n      />\n      <Auth.Screen\n        name=\"Register\"\n        component={RegisterForm}\n        options={{ headerShown: false }}\n      />\n    </Auth.Navigator>\n  );\n}\n","import React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { SafeAreaView } from 'react-native';\nimport { Layout, Spinner, Text } from '@ui-kitten/components';\nimport { useAppContext } from '../contexts';\nimport { RootLinkParamList } from '../types/navigation';\nimport createStyle from '../constants/Styles';\nimport BottomTabNavigator from './BottomTabNavigator';\nimport AuthNavigator from './AuthNavigator';\n\nconst Root = createNativeStackNavigator<RootLinkParamList>();\n\nfunction LoadingScreen() {\n  return (\n    <SafeAreaView style={styles.flex1}>\n      <Layout\n        style={[\n          styles.flex1,\n          styles.alignItemsCenter,\n          styles.justifyContentCenter,\n          styles.padding2,\n        ]}\n      >\n        <Spinner size=\"giant\" />\n        <Text style={styles.title}>{'Loading...'}</Text>\n      </Layout>\n    </SafeAreaView>\n  );\n}\n\nexport default function RootNavigator() {\n  const { authToken, loading } = useAppContext();\n\n  return (\n    <Root.Navigator>\n      {loading ? (\n        <Root.Screen\n          name=\"Loading\"\n          component={LoadingScreen}\n          options={{ headerShown: false }}\n        />\n      ) : authToken?.access_token ? (\n        <Root.Screen\n          name=\"BottomTab\"\n          component={BottomTabNavigator}\n          options={{ headerShown: false }}\n        />\n      ) : (\n        <Root.Screen\n          name=\"Auth\"\n          component={AuthNavigator}\n          options={{ headerShown: false }}\n        />\n      )}\n    </Root.Navigator>\n  );\n}\n\nconst styles = createStyle({\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n});\n","import React from 'react';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport NotFoundScreen from '../screens/NotFoundScreen';\nimport ModalScreen from '../screens/ModalScreen';\nimport { RootStackParamList } from '../types/navigation';\nimport RootNavigator from './RootNavigator';\n\nconst Stack = createNativeStackNavigator<RootStackParamList>();\n\nexport default function StackNavigator() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Root\"\n        component={RootNavigator}\n        options={{ headerShown: false }}\n      />\n      <Stack.Screen\n        name=\"NotFound\"\n        component={NotFoundScreen}\n        options={{ headerShown: false }}\n      />\n      <Stack.Group\n        screenOptions={{ presentation: 'modal', headerShown: false }}\n      >\n        <Stack.Screen name=\"Modal\" component={ModalScreen} />\n      </Stack.Group>\n    </Stack.Navigator>\n  );\n}\n","/**\n * If you are not familiar with React Navigation, refer to the \"Fundamentals\" guide:\n * https://reactnavigation.org/docs/getting-started\n *\n */\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { ContextProvider } from '../contexts/AppContext';\n\nimport LinkingConfiguration from './LinkingConfiguration';\nimport StackNavigator from './StackNavigator';\n\nexport default function Navigation() {\n  return (\n    <ContextProvider>\n      <NavigationContainer linking={LinkingConfiguration}>\n        <StackNavigator />\n      </NavigationContainer>\n    </ContextProvider>\n  );\n}\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\nregisterRootComponent(App);\n","import React from 'react';\nimport { ImageProps } from 'react-native';\nimport { mapping, light, dark } from '@eva-design/eva';\nimport {\n  ApplicationProvider,\n  Button,\n  ButtonProps,\n  Icon,\n  IconRegistry,\n} from '@ui-kitten/components';\nimport { MaterialIconsPack } from './app/components/AppIcons';\nimport { ColorScheme } from './app/types';\nimport { ThemeContext } from './app/contexts/ThemeContext';\nimport { getData, storeData } from './app/api/store';\nimport useCachedResources from './app/hooks/useCachedResources';\nimport Navigation from './app/navigation';\nimport { default as colors } from './app/assets/theme.json';\nimport { default as customMapping } from './app/assets/mapping.json';\n\nexport default function App() {\n  const isLoadingComplete = useCachedResources();\n  const [theme, setTheme] = React.useState<ColorScheme>('light');\n  const isLightTheme = theme === 'light';\n\n  React.useEffect(() => {\n    const getSetTheme = async () => {\n      const themeData = (await getData('theme', 'light')) as ColorScheme;\n      setTheme(themeData);\n    };\n\n    getSetTheme();\n  }, [setTheme]);\n\n  const switchTheme = async () => {\n    const newTheme = isLightTheme ? 'dark' : 'light';\n    setTheme(newTheme);\n    await storeData('theme', newTheme);\n  };\n\n  const toggleIcon = (props: Partial<ImageProps> | undefined) => (\n    <Icon\n      key=\"themeToggle\"\n      name={isLightTheme ? 'brightness-2' : 'brightness-7'}\n      {...props}\n    />\n  );\n\n  const ThemeToggle = (props: ButtonProps | undefined) => (\n    <Button\n      appearance=\"ghost\"\n      status=\"basic\"\n      accessoryLeft={toggleIcon}\n      onPress={switchTheme}\n      {...props}\n    />\n  );\n\n  return isLoadingComplete ? (\n    <>\n      <IconRegistry icons={MaterialIconsPack} />\n      <ThemeContext.Provider\n        value={{ theme, setTheme, switchTheme, ThemeToggle }}\n      >\n        <ApplicationProvider\n          mapping={mapping}\n          customMapping={customMapping}\n          theme={{ ...(isLightTheme ? light : dark), ...colors }}\n        >\n          <Navigation />\n        </ApplicationProvider>\n      </ThemeContext.Provider>\n    </>\n  ) : null;\n}\n","import React from 'react';\nimport { FontAwesome } from '@expo/vector-icons';\nimport { loadAsync } from 'expo-font';\nimport { preventAutoHideAsync, hideAsync } from 'expo-splash-screen';\n\nexport default function useCachedResources() {\n  const [isLoadingComplete, setLoadingComplete] = React.useState(false);\n\n  // Load any resources or data that we need prior to rendering the app\n  React.useEffect(() => {\n    async function loadResourcesAndDataAsync() {\n      try {\n        preventAutoHideAsync();\n\n        // Load fonts\n        await loadAsync({\n          ...FontAwesome.font,\n          'space-mono': require('../assets/fonts/SpaceMono-Regular.ttf'),\n        });\n      } catch (e) {\n        // We might want to provide this error information to an error reporting service\n        console.warn(e);\n      } finally {\n        setLoadingComplete(true);\n        hideAsync();\n      }\n    }\n\n    loadResourcesAndDataAsync();\n  }, []);\n\n  return isLoadingComplete;\n}\n"],"sourceRoot":""}